{"version":3,"sources":["D:/NOWFLOATS/node_modules/underscore/underscore.js","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/$_gendir lazy","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/app.component.css","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/app.component.html","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/app.component.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/app.module.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/chat-thread/chat-thread.component.css","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/chat-thread/chat-thread.component.html","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/chat-thread/chat-thread.component.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/complex-input/complex-input.component.css","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/complex-input/complex-input.component.html","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/complex-input/complex-input.component.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/info-dialog/info-dialog.component.css","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/info-dialog/info-dialog.component.html","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/info-dialog/info-dialog.component.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/models/ana-chat-vm.models.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/models/ana-chat.models.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/models/google-maps-config.model.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/api.service.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/chain-delay.service.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/info-dialog.service.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/mat-css.service.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/plugin.service.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/resolver.service.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/simulator.service.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/stomp.service.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/utilities.service.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/environments/environment.prod.ts","D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/main.ts"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,YAAY;AAClD;AACA;AACA,KAAK;AACL;AACA,uCAAuC,YAAY;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,gBAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,oDAAoD;AACpD,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4DAA4D,YAAY;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6CAA6C,YAAY;AACzD;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,eAAe;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,eAAe;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,4CAA4C,mBAAmB;AAC/D;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf,cAAc;AACd,cAAc;AACd,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP,qBAAqB;AACrB;;AAEA;AACA;AACA,KAAK;AACL,iBAAiB;;AAEjB;AACA,kDAAkD,EAAE,iBAAiB;;AAErE;AACA,wBAAwB,8BAA8B;AACtD,2BAA2B;;AAE3B;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD,iBAAiB;;AAEnE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AAAA;AACL;AACA,CAAC;;;;;;;;AC3gDD;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,4E;;;;;;;ACVA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;ACXA,oD;;;;;;;;;;;;;;;;;;;;;;;;;;ACA0C;AAEO;AAEoB;AACL;AACZ;AACY;AACL;AACI;AAO/D;IAEC,sBACS,KAAqB,EACrB,UAAsB,EACtB,KAAmB,EACnB,SAA2B,EAC3B,KAAuB,EACvB,GAAuB,EACvB,MAAqB;QAP9B,iBAkBC;QAjBQ,UAAK,GAAL,KAAK,CAAgB;QACrB,eAAU,GAAV,UAAU,CAAY;QACtB,UAAK,GAAL,KAAK,CAAc;QACnB,cAAS,GAAT,SAAS,CAAkB;QAC3B,UAAK,GAAL,KAAK,CAAkB;QACvB,QAAG,GAAH,GAAG,CAAoB;QACvB,WAAM,GAAN,MAAM,CAAe;QAC7B,IA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","file":"main.bundle.js","sourcesContent":["//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind,\n    nativeCreate       = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.8.3';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result — either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys =  _.keys(obj),\n          length = keys.length,\n          results = {},\n          currentKey;\n      for (var index = 0; index < length; index++) {\n        currentKey = keys[index];\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n      }\n      return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {}, obj = object, iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) { return key in obj; };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = property;\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function(){} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return '' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}.call(this));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/NOWFLOATS/node_modules/underscore/underscore.js\n// module id = ../../../../../../node_modules/underscore/underscore.js\n// module chunks = main","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/$$_gendir lazy\n// module id = ../../../../../src/$$_gendir lazy recursive\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<router-outlet></router-outlet>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\nimport { LazyMapsAPILoader, LAZY_MAPS_API_CONFIG, LazyMapsAPILoaderConfigLiteral } from '@agm/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AppConfig, AppSettings, BrandingConfig, ThirdPartyConfig } from './models/ana-config.models';\nimport { StompConfig, StompService } from './services/stomp.service';\nimport { SimulatorService } from './services/simulator.service';\nimport { APIService } from './services/api.service';\nimport { UtilitiesService } from './services/utilities.service';\nimport { MatCSSService } from './services/mat-css.service';\nimport { SimulatorFromStudio } from './services/plugin.service'\n\n@Component({\n\tselector: 'app-root',\n\ttemplateUrl: './app.component.html',\n\tstyleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n\tconstructor(\n\t\tprivate route: ActivatedRoute,\n\t\tprivate apiService: APIService,\n\t\tprivate stomp: StompService,\n\t\tprivate simulator: SimulatorService,\n\t\tprivate utils: UtilitiesService,\n\t\tprivate sim:SimulatorFromStudio,\n\t\tprivate matCSS: MatCSSService) {\n\t\tthis.route.queryParams.subscribe(params => {\n\t\t\tif (params['s']) {\n\t\t\t\t//debugger\n\t\t\t\tlet settings = JSON.parse(atob(params['s'])) as AppSettings;\n\t\t\t\tif (settings.stompConfig && settings.stompConfig.debug)\n\t\t\t\t\tconsole.log(settings);\n\t\t\t\tthis.setAppSettings(settings);\n\t\t\t\tthis.sim.init(settings.appConfig.chatJson);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetAppSettings(settings: AppSettings) {\n\t\tUtilitiesService.settings = settings;\n\n\t\tif (settings.brandingConfig) {\n\t\t\tthis.getCustomStyle(settings.brandingConfig.primaryBackgroundColor, settings.brandingConfig.secondaryBackgroundColor, settings.brandingConfig.primaryForegroundColor, settings.brandingConfig.frameContentWidth);\n\t\t}\n\t\tif (settings.thirdPartyConfig && UtilitiesService.googleMapsConfigRef)\n\t\t\tUtilitiesService.googleMapsConfigRef.apiKey = settings.thirdPartyConfig.googleMapsKey;\n\t\tif (settings.appConfig) {\n\t\t\tthis.apiService.fileUploadEndpoint = settings.appConfig.fileUploadEndpoint;\n\t\t\tthis.apiService.setAPIEndpoint(settings.appConfig.apiEndpoint);\n\t\t}\n\n\t\tif (settings.stompConfig)\n\t\t\tthis.stomp.configure(settings.stompConfig);\n\t}\n\n\tgetCustomStyle(accent: string = undefined, secondary: string = undefined, accentFG: string = undefined, contentWidth: string = undefined) {\n\t\tconst ANA_CUSTOM_STYLE = 'ana-custom-style';\n\t\tlet customStyle = document.getElementById(ANA_CUSTOM_STYLE) as HTMLStyleElement;\n\t\tif (!customStyle) {\n\t\t\tcustomStyle = document.createElement('style');\n\t\t\tcustomStyle.id = ANA_CUSTOM_STYLE;\n\t\t\tdocument.head.appendChild(customStyle);\n\t\t}\n\n\t\tlet appCSS = `/*Dynamic styles*/\n.chat-message-item.incoming {\n  border-left-color: ${accent || '#8cc83c'};\n}\n\n.incoming > .chat-stub {\n  border-top-color: ${accent || '#8cc83c'};\n}\n\n.carousel-item-button:first-child,\n.chat-input button.btn-icon {\n  color: ${accent || '#8cc83c'};\n}\n\n.chat-input button.btn-click {\n  background-color: ${accent || '#8cc83c'};\n  color: ${accentFG || 'white'};\n}\n\n.ana-sent-tick path{\n\tfill: ${accent || '#8cc83c'};\n}\n.ana-sent-tick{\n  color: ${accent || '#8cc83c'};\n}\n\n.ana-delivered-tick path{\n\tfill: ${accent || '#8cc83c'};\n}\n.ana-delivered-tick{\n  color: ${accent || '#8cc83c'};\n}\n\n.chat-message-item.outgoing {\n  border-right-color: ${secondary || 'black'};\n}\n\n.outgoing > .chat-stub {\n  border-top-color: ${secondary || 'black'};\n}\n\n.complex-input-btn-done {\n  color: ${accentFG || 'white'} !important;\n}\n\n.content {\n  width: 100vw;\n}\n\n.ana-title {\n  background-color: ${accent || '#8cc83c'};\n  color: ${accentFG || 'white'};\n}\n.chat-text-input{\n\tcaret-color: ${accent || '#8cc83c'};\n}\npath.send-button{\n  fill: ${accent || '#8cc83c'};\n}\n.ana-logo > img {\n  background-color: ${accentFG || 'white'};\n  border: 2px solid ${accentFG || 'white'};\n}\n\n.ana-min .ana-minmax-btn {\n  border: 2px solid ${accentFG || 'white'};\n}\n\n.ana-minmax-btn {\n  background-color: ${accentFG || 'white'};\n}\n\n.typing-indicator span{\n  background-color: ${accent || '#8cc83c'};\n}\n\n.ana-actions {\n  margin-right: ${UtilitiesService.settings.appConfig.fullpage ? \"-5px\" : \"20px\"};\n}\n`;\n\t\tthis.matCSS.loadCustomMatTheme(accent, customStyle, appCSS);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/app.component.ts","import { BrowserModule, DomSanitizer } from '@angular/platform-browser';\nimport { NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { HttpModule } from '@angular/http';\nimport { enableProdMode } from '@angular/core'\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport {\n\tMdDialogModule,\n\tMdDatepickerModule,\n\tMdFormFieldModule,\n\tMdNativeDateModule,\n\tMdInputModule,\n\tMdButtonModule,\n\tMdListModule,\n\tMdCheckboxModule,\n\tMdCardModule,\n\tMdRadioModule,\n\tMdProgressBarModule\n} from '@angular/material';\n\nimport { AgmCoreModule, LAZY_MAPS_API_CONFIG } from '@agm/core';\n\nimport { AppComponent } from './app.component';\nimport { ChatThreadComponent } from './components/chat-thread/chat-thread.component';\n\nimport { StompService } from './services/stomp.service';\nimport {SimulatorFromStudio} from './services/plugin.service'\nimport { SampleService } from './services/resolver.service'\nimport { APIService } from './services/api.service';\nimport { UtilitiesService } from './services/utilities.service';\nimport { SimulatorService } from './services/simulator.service';\nimport { ComplexInputComponent } from './components/complex-input/complex-input.component';\nimport { GoogleMapsConfig } from './models/google-maps-config.model';\nimport { MatCSSService } from './services/mat-css.service';\nimport { ChainDelayService } from './services/chain-delay.service';\nimport { InfoDialogComponent } from './components/info-dialog/info-dialog.component';\nimport { InfoDialogService } from './services/info-dialog.service';\n@NgModule({\n\tdeclarations: [\n\t\tAppComponent,\n\t\tChatThreadComponent,\n\t\tComplexInputComponent,\n\t\tInfoDialogComponent \n\t],\n\timports: [\n\t\tBrowserModule,\n\t\tFormsModule,\n\t\tBrowserAnimationsModule,\n\t\tMdDialogModule,\n\t\tMdDatepickerModule,\n\t\tMdFormFieldModule,\n\t\tMdNativeDateModule,\n\t\tMdInputModule,\n\t\tMdButtonModule,\n\t\tMdListModule,\n\t\tMdCheckboxModule,\n\t\tMdCardModule,\n\t\tMdRadioModule,\n\t\tMdProgressBarModule,\n\t\tRouterModule.forRoot([\n\t\t\t{ path: '', component: ChatThreadComponent },\n\t\t\t{ path: '**', redirectTo: '' }\n\t\t]),\n\t\tHttpModule,\n\t\tAgmCoreModule.forRoot()\n\t],\n\tproviders: [\n\t\tStompService,\n\t\tUtilitiesService,\n\t\tAPIService,\n\t\tMatCSSService,\n\t\tSampleService,\n\t\tChainDelayService,\n\t\tSimulatorService,\n\t\tSimulatorFromStudio,\n\t\tInfoDialogService,\n\t\t{ provide: LAZY_MAPS_API_CONFIG, useClass: GoogleMapsConfig }\n    ],\n\tbootstrap: [AppComponent],\n\tentryComponents: [\n\t\tComplexInputComponent,\n\t\tInfoDialogComponent\n\t],\n\tschemas: [NO_ERRORS_SCHEMA]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/app.module.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".root {\\n    display: table;\\n    margin: 0 auto;\\n    height: 100vh;\\n    border-radius: 10px;\\n    overflow: hidden;\\n}\\n\\n.media {\\n    overflow: visible;\\n}\\n\\n.clickable {\\n    cursor: pointer;\\n}\\n\\n.content {\\n    margin: 0 auto;\\n    display: inline-block;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n    height: inherit;\\n}\\n\\n.ana-min.root {\\n    height: 57px !important;\\n}\\n\\n.ana-min .chat-thread,\\n.ana-min .chat-input-container {\\n    height: 0 !important;\\n    display: none;\\n}\\n\\n.ana-min .root {\\n    height: 57px !important;\\n}\\n\\n.chat-thread {\\n    padding: 20px;\\n    height: 100%;\\n    -webkit-box-flex: 1;\\n        -ms-flex-positive: 1;\\n            flex-grow: 1;\\n    overflow-y: scroll;\\n    background-color: #F5F5F5;\\n}\\n\\n.chat-message-group {\\n    margin: 10px 0;\\n}\\n\\n.chat-message-item {\\n    max-width: 80%;\\n    position: relative;\\n    min-width: 40%;\\n    box-shadow: 0px 2px 3px -1px rgba(110, 110, 110, 0.15);\\n}\\n\\n    .chat-message-item.media * .chat-media {\\n        width: 100%;\\n        height: 100%;\\n        background-color: white;\\n    }\\n\\n    .chat-message-item.media.incoming * .chat-media {\\n        border-radius: 0 10px 10px 0;\\n    }\\n\\n        .chat-message-item.media.incoming * video.chat-media,\\n        .chat-message-item.media.incoming * .chat-media > audio {\\n            border-radius: 0 10px 0 0 !important;\\n        }\\n\\n    .chat-message-item.media.outgoing * .chat-media {\\n        border-radius: 10px 0 0 10px;\\n    }\\n\\n        .chat-message-item.media.outgoing * video.chat-media,\\n        .chat-message-item.media.outgoing * .chat-media > audio {\\n            border-radius: 10px 0 0 0 !important;\\n        }\\n\\n    .chat-message-item.text {\\n        background-color: white;\\n        padding: 15px;\\n    }\\n\\n    .chat-message-item.typing {\\n        background-color: white;\\n        padding: 10px 15px;\\n        min-width: auto;\\n    }\\n\\n    .chat-message-item.incoming {\\n        float: left;\\n        border-radius: 0 10px 10px 0;\\n        border-left-width: 3px;\\n        border-left-style: solid;\\n    }\\n\\n    .chat-message-item.outgoing {\\n        float: right;\\n        border-radius: 10px 0 0 10px;\\n        border-right-width: 3px;\\n        border-right-style: solid;\\n    }\\n\\n.chat-message-item-container {\\n    width: 100%;\\n    display: inline-block;\\n}\\n\\napp-chat-thread {\\n    max-width: 500px;\\n}\\n\\n.dots {\\n    width: 100%;\\n    height: 100%;\\n    background-image: linear-gradient(transparent 0px, transparent 2px, rgb(255, 255, 255) 2px, rgb(255, 255, 255) 20px), linear-gradient(to right, rgb(200, 195, 199) 0px, rgb(200, 195, 199) 2px, rgb(255, 255, 255) 2px, rgb(255, 255, 255) 20px);\\n    background-position: 437px -2px;\\n    background-size: 20px 20px;\\n}\\n\\n.chat-text {\\n}\\n\\n.chat-time {\\n    font-size: 8px;\\n    position: absolute;\\n    bottom: 2px;\\n    right: 8px;\\n}\\n\\n    .chat-time > span {\\n        opacity: 0.4;\\n    }\\n\\n.chat-stub {\\n    width: 0;\\n    height: 0;\\n    bottom: -13px;\\n    display: none;\\n}\\n\\n.incoming > .chat-stub {\\n    border-top-width: 13px;\\n    border-top-style: solid;\\n    border-left: 15px solid transparent;\\n    position: absolute;\\n    left: -3px;\\n}\\n\\n.outgoing > .chat-stub {\\n    border-top-width: 13px;\\n    border-top-style: solid;\\n    border-right: 15px solid transparent;\\n    position: absolute;\\n    right: -3px;\\n}\\n\\n.chat-message-last {\\n    margin-bottom: 15px;\\n}\\n\\n    .chat-message-last > .chat-stub {\\n        display: block;\\n    }\\n\\n.chat-bottom-overlay {\\n    background-color: rgba(0, 0, 0, 0.5);\\n    width: 100%;\\n    position: absolute;\\n    bottom: 0;\\n    right: 0;\\n    color: white;\\n    font-size: 9.6px;\\n    font-style: italic;\\n    padding: 5px 10px;\\n}\\n\\n.outgoing * .chat-bottom-overlay {\\n    border-radius: 0 0 0 10px;\\n}\\n\\n.incoming * .chat-bottom-overlay {\\n    border-radius: 0 0 10px 0;\\n}\\n\\n.media > .chat-time {\\n    color: white;\\n    opacity: 1;\\n    bottom: 5px;\\n}\\n\\n.chat-media > audio {\\n    width: 230px;\\n    margin-bottom: 19px;\\n}\\n\\nvideo.chat-media {\\n    margin-bottom: 19px;\\n}\\n\\n\\n/*\\nGreen dot up\\nCarousel left right button background\\nCarousel left right vertical center\\nbg white\\n*/\\n\\n.chat-input-container {\\n    background-color: #F5F5F5;\\n    border-radius: 0 0 10px 10px;\\n}\\n\\n.chat-input {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    width: 100%;\\n}\\n\\n    .chat-input.click {\\n        display: inline;\\n        float: left;\\n        width: auto;\\n    }\\n\\n    .chat-input.text {\\n        background-color: white;\\n        border-radius: 0 0 10px 10px;\\n        box-shadow: 0px -3px 11px 0px rgba(0, 0, 0, 0.05);\\n    }\\n\\n    .chat-input button.btn-click {\\n        border-radius: 4px;\\n        padding: 7px 23px;\\n        border: transparent;\\n        margin: 0 10px 10px 10px;\\n        white-space: nowrap;\\n    }\\n\\n    .chat-input button.btn-icon {\\n        font-size: 20px;\\n        border: none;\\n        background: none;\\n        padding: 0 14px;\\n        opacity: 0.8;\\n    }\\n\\n        .chat-input button.btn-icon:disabled {\\n            opacity: 0.10;\\n        }\\n\\n    .chat-input i {\\n        font-size: 20px;\\n    }\\n\\n.chat-text-input {\\n    border: none;\\n    vertical-align: middle;\\n    padding: 12px 16px;\\n    width: 100%;\\n    outline: none;\\n    color: black;\\n}\\n\\n.chat-input-click-container {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: row;\\n            flex-direction: row;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    overflow-x: auto;\\n    background-color: transparent;\\n    /*Remove below for click buttons to scroll horizontally*/\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    -ms-flex-wrap: wrap;\\n        flex-wrap: wrap;\\n    border-radius: 10px;\\n}\\n\\n.chat-file-attachment {\\n    height: 60px !important;\\n    background-color: white !important;\\n}\\n\\n.ana-sent-tick {\\n    -webkit-transform: translateY(1px);\\n            transform: translateY(1px);\\n}\\n\\n.ana-delivered-tick {\\n    -webkit-transform: translateY(1px);\\n            transform: translateY(1px);\\n}\\n\\n.carousel-wrapper {\\n    position: relative;\\n    margin: 0 -20px;\\n}\\n\\n    .carousel-wrapper > .carousel-arrow {\\n        position: absolute;\\n        top: 50%;\\n        padding: 5px 0 0;\\n        cursor: pointer;\\n        -webkit-transform: translateY(-50%);\\n                transform: translateY(-50%);\\n        background-color: white;\\n        opacity: 0.85;\\n    }\\n\\n        .carousel-wrapper > .carousel-arrow:hover {\\n            opacity: 1;\\n        }\\n\\n        .carousel-wrapper > .carousel-arrow.right {\\n            right: 0;\\n            box-shadow: -1px 0px 1px 1px rgba(0,0,0,0.1);\\n            border-radius: 5px 0 0 5px;\\n        }\\n\\n        .carousel-wrapper > .carousel-arrow.left {\\n            left: 0;\\n            box-shadow: 1px 0px 1px 1px rgba(0,0,0,0.1);\\n            border-radius: 0 5px 5px 0;\\n        }\\n\\n.carousel-arrow.right svg {\\n    width: 24px;\\n    height: 24px;\\n    -webkit-transform: rotate(-90deg);\\n    transform: rotate(-90deg);\\n    fill: #333;\\n}\\n\\n.carousel-arrow.left svg {\\n    width: 24px;\\n    height: 24px;\\n    fill: #333;\\n    -webkit-transform: rotate(90deg);\\n    transform: rotate(90deg);\\n}\\n\\n.carousel-container {\\n    width: 100%;\\n    overflow-x: auto;\\n    white-space: nowrap;\\n    margin-bottom: 5px;\\n    margin-top: 5px;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -ms-flex-direction: row;\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n            flex-direction: row;\\n}\\n\\n.carousel-item-media > img,\\n.carousel-item-media > video,\\n.carousel-item-media > audio {\\n    width: 100%;\\n    border-radius: inherit;\\n}\\n\\n\\n\\n.carousel-item-media {\\n    padding: 20px 0;\\n    overflow: hidden;\\n    border-radius: 5px;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    min-height: 170px;\\n}\\n\\n.carousel-item {\\n    width: 240px;\\n    margin: 0 10px;\\n    border-radius: 10px;\\n    background-color: white;\\n    height: 100%;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n    box-shadow: 0px 1px 6px 1px rgba(110, 110, 110, 0.15);\\n}\\n\\n.carousel-item-content {\\n    padding: 0 20px;\\n    -webkit-box-flex: 1;\\n        -ms-flex-positive: 1;\\n            flex-grow: 1;\\n}\\n\\n    .carousel-item-content.no-media {\\n        padding: 10px 20px;\\n    }\\n\\n.carousel-item-container {\\n    margin-bottom: 5px;\\n    padding: 3px; /*For carousel item shadow to be visible*/\\n}\\n\\n.carousel-item-title {\\n    font-weight: bold;\\n    margin: �0 0 2px 0;\\n    overflow: hidden;\\n}\\n\\n.carousel-item-desc {\\n    color: gray;\\n    font-size: 11px;\\n    margin: 2px 0 10px 0;\\n}\\n\\n.carousel-item-button > button {\\n    width: 100%;\\n    border-top: 1px solid #ccc;\\n    border-radius: 0;\\n    text-align: left;\\n    font-weight: bold;\\n    text-transform: uppercase;\\n    font-size: x-small;\\n    text-align: center;\\n    font-family: 'Open Sans';\\n}\\n\\n.text-wrap {\\n    white-space: normal;\\n}\\n\\n.carousel-container > table {\\n    margin-bottom: 10px;\\n}\\n\\n.ana-title {\\n    padding: 10px 15px;\\n    z-index: 100;\\n    position: relative;\\n    border-radius: 10px 10px 0 0;\\n}\\n\\n.ana-min .ana-title {\\n    margin-top: 20px;\\n    box-shadow: 0px 1px 6px 1px rgba(0,0,0,0.36);\\n    margin-left: 6px;\\n    margin-right: 6px;\\n}\\n\\n.ana-logo {\\n    display: inline;\\n    float: left;\\n    margin: 0 15px -4px 0;\\n}\\n\\n    .ana-logo > img {\\n        width: 35px;\\n        height: 35px;\\n        border-radius: 0 7px 7px 7px;\\n        box-shadow: 0px 0px 25px 3px rgba(0,0,0,0.19);\\n        margin-top: 4px;\\n    }\\n\\n.ana-content {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n    float: left;\\n    width: 70%;\\n}\\n\\n    .ana-content > .title {\\n        font-weight: bold;\\n        font-size: 18px;\\n        position: relative;\\n    }\\n\\n    .ana-content > .subtitle {\\n        font-size: 11px;\\n        opacity: 0.9;\\n    }\\n\\n.ana-actions {\\n    display: inline;\\n    float: right;\\n    margin-top: 5px;\\n}\\n\\n    .ana-actions .ana-action {\\n        opacity: 0.6;\\n        height: 24px;\\n        width: 24px;\\n        padding: 4px;\\n        border-radius: 3px;\\n        cursor: pointer;\\n    }\\n\\n        .ana-actions .ana-action:hover {\\n            opacity: 1;\\n            background-color: rgba(0,0,0,0.1);\\n        }\\n\\n        .ana-actions .ana-action svg {\\n            height: 16px;\\n            width: 16px;\\n        }\\n\\n            .ana-actions .ana-action svg path {\\n                fill: #fff;\\n            }\\n\\n.ana-minmax-btn {\\n    border-radius: 3px;\\n    height: 3px;\\n    width: 15px;\\n    opacity: 0.6;\\n    position: absolute;\\n    top: 10px;\\n    right: 10px;\\n}\\n\\n.ana-min .ana-minmax-btn {\\n    border-radius: 2px;\\n    height: 11px;\\n    background-color: transparent;\\n    width: 11px;\\n}\\n\\n.ana-min .ana-logo {\\n    -webkit-transform: translateY(-22px);\\n            transform: translateY(-22px);\\n}\\n\\n    .ana-min .ana-logo > img {\\n        box-shadow: 0px 1px 6px 1px rgba(0,0,0,0.36);\\n    }\\n\\n.input-msg {\\n    background-color: white;\\n    padding: 5px 16px;\\n    font-size: 10px;\\n    color: crimson;\\n}\\n\\n.typing-indicator-container {\\n    display: table-cell;\\n}\\n\\n.typing-indicator {\\n    width: auto;\\n    display: table;\\n    position: relative;\\n}\\n\\n    .typing-indicator span {\\n        height: 6px;\\n        width: 6px;\\n        float: left;\\n        margin: 0 1px;\\n        display: block;\\n        border-radius: 50%;\\n        opacity: 0.4;\\n    }\\n\\n        .typing-indicator span:nth-of-type(1) {\\n            -webkit-animation: 1s blink infinite 0.3333s;\\n            animation: 1s blink infinite 0.3333s;\\n        }\\n\\n        .typing-indicator span:nth-of-type(2) {\\n            -webkit-animation: 1s blink infinite 0.6666s;\\n            animation: 1s blink infinite 0.6666s;\\n        }\\n\\n        .typing-indicator span:nth-of-type(3) {\\n            -webkit-animation: 1s blink infinite 0.9999s;\\n            animation: 1s blink infinite 0.9999s;\\n        }\\n\\n@-webkit-keyframes blink {\\n    50% {\\n        opacity: 1;\\n    }\\n}\\n\\n@keyframes blink {\\n    50% {\\n        opacity: 1;\\n    }\\n}\\n\\n@-webkit-keyframes bulge {\\n    50% {\\n        -webkit-transform: scale(1.05);\\n        transform: scale(1.05);\\n    }\\n}\\n\\n@keyframes bulge {\\n    50% {\\n        -webkit-transform: scale(1.05);\\n        transform: scale(1.05);\\n    }\\n}\\n\\n.scrollbar::-webkit-scrollbar-track {\\n    background-color: transparent;\\n}\\n\\n.scrollbar::-webkit-scrollbar {\\n    width: 5px;\\n    height: 5px;\\n    background-color: transparent;\\n}\\n\\n.scrollable::-webkit-scrollbar * {\\n    background: transparent;\\n}\\n\\n.scrollbar::-webkit-scrollbar-thumb {\\n    border-radius: 10px !important;\\n    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3) !important;\\n    background-color: rgba(0,0,0,.3) !important;\\n}\\n\\n.carousel-item-container:first-child > .carousel-item {\\n    margin-left: 16px;\\n}\\n\\n.carousel-item-container:last-child > .carousel-item {\\n    margin-right: 16px;\\n}\\n\\n.carousel-arrow > i {\\n    color: rgba(0,0,0,.6);\\n}\\n\\n.ana-link {\\n    color: inherit;\\n    text-decoration: underline;\\n}\\n\\n.chat-bottom-overlay > img {\\n    height: 12px;\\n    width: 12px;\\n}\\n\\n.ana-online-dot {\\n    border-radius: 5px;\\n    height: 6px;\\n    width: 6px;\\n    background-color: #00DF50;\\n    border: 1px solid white;\\n    margin-top: 7px;\\n    margin-right: 5px;\\n    display: inline-block;\\n}\\n\\n.chat-history-loading {\\n    position: absolute;\\n    bottom: -2px;\\n    z-index: 100;\\n    text-align: center;\\n    width: 100%;\\n    margin: 0 -20px 0 -15px;\\n}\\n\\n    .chat-history-loading > mat-progress-spinner {\\n        display: inline-block;\\n        height: 50px;\\n        width: 50px;\\n    }\\n\\n@media only screen and (min-device-width : 320px) and (max-device-width : 480px) {\\n    .root {\\n        border-radius: 0;\\n    }\\n\\n    .ana-title {\\n        border-radius: 0;\\n    }\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/chat-thread/chat-thread.component.css\n// module id = ../../../../../src/app/components/chat-thread/chat-thread.component.css\n// module chunks = main","module.exports = \"<div class=\\\"root\\\" [ngClass]=\\\"{'ana-min': isMin}\\\">\\n    <div class=\\\"content\\\">\\n        <div class=\\\"ana-title\\\">\\n            <div class=\\\"ana-logo\\\">\\n                <img [src]=\\\"settings.brandingConfig.logoUrl\\\" class=\\\"ana-full\\\" />\\n            </div>\\n            <div class=\\\"ana-content\\\">\\n                <div class=\\\"title\\\">{{settings.brandingConfig.agentName}}</div>\\n                <!-- <div class=\\\"subtitle\\\">\\n                    <span *ngIf=\\\"settings.brandingConfig.agentDesc\\\">\\n                        <span *ngIf=\\\"connectionStatusMessage()!='Available'\\\">\\n                            {{settings.brandingConfig.agentDesc}} - <i *ngIf=\\\"connectionStatusMessage()=='Available'\\\" [title]=\\\"connectionStatusMessage()\\\" class=\\\"ana-online-dot\\\"></i> {{ connectionStatusMessage()}}\\n                        </span>\\n                        <span *ngIf=\\\"connectionStatusMessage()=='Available'\\\">\\n                            {{settings.brandingConfig.agentDesc}} <i [title]=\\\"connectionStatusMessage()\\\" class=\\\"ana-online-dot\\\"></i>\\n                        </span>\\n                    </span>\\n                    <span *ngIf=\\\"!settings.brandingConfig.agentDesc\\\">\\n                        <i *ngIf=\\\"connectionStatusMessage()=='Available'\\\" [title]=\\\"connectionStatusMessage()\\\" class=\\\"ana-online-dot\\\"></i>{{connectionStatusMessage()}}\\n                    </span>\\n                </div> -->\\n            </div>\\n            <div class=\\\"ana-actions\\\">\\n                <div class=\\\"ana-action\\\" title=\\\"Start a fresh chat\\\" (click)=\\\"getStarted(true, true)\\\" [hidden]=\\\"!settings.appConfig.allowFlowReset\\\">\\n                    <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 15.279 15.279\\\">\\n                        <path d=\\\"M7.599 1.918v-1.8c0-.1.125-.154.209-.091l3.7 2.719a.114.114 0 0 1 0 .184l-3.7 2.719c-.084.062-.21.006-.21-.09V3.76A4.843 4.843 0 0 0 2.847 8.93c.159 2.4 2.115 4.347 4.515 4.5a4.849 4.849 0 0 0 5.094-4.06.92.92 0 0 1 .912-.771c.56 0 .994.497.907 1.047-.544 3.428-3.703 6-7.366 5.59-3.062-.343-5.522-2.793-5.869-5.856C.58 5.374 3.692 1.961 7.6 1.918z\\\" />\\n                    </svg>\\n                </div>\\n            </div>\\n            <div class=\\\"chat-history-loading\\\" [hidden]=\\\"!fetchingHistory\\\">\\n                <md-progress-bar mode=\\\"indeterminate\\\" color=\\\"primary\\\"></md-progress-bar>\\n            </div>\\n        </div>\\n        <div class=\\\"chat-thread scrollbar\\\" #chatThreadView (scroll)=\\\"chatThreadOnScroll($event)\\\">\\n            <div class=\\\"chat-message\\\" *ngFor=\\\"let msg of chatThread.messages\\\">\\n                <div [ngSwitch]=\\\"msg.messageData.type\\\">\\n                    <ng-container *ngSwitchCase=\\\"MH.MessageType.SIMPLE\\\">\\n                        <div class=\\\"chat-message-item-container\\\">\\n                            <div class=\\\"chat-message-item\\\" [ngClass]=\\\"{'media': msg.getMessageContentType()==MH.MessageContentType.Media, 'text':msg.getMessageContentType()==MH.MessageContentType.Text, 'typing':msg.getMessageContentType()==MH.MessageContentType.Typing, 'incoming':msg.direction==MH.Direction.Incoming, 'outgoing':msg.direction==MH.Direction.Outgoing, 'chat-message-last': isLastInMessageGroup(msg)}\\\">\\n                                <div [ngSwitch]=\\\"msg.getMessageContentType()\\\">\\n                                    <ng-container *ngSwitchCase=\\\"MH.MessageContentType.Text\\\">\\n                                        <span class=\\\"chat-text\\\" *ngIf=\\\"!settings.appConfig.htmlMessages\\\">{{msg.messageData.content.text}}</span>\\n                                        <span class=\\\"chat-text\\\" *ngIf=\\\"settings.appConfig.htmlMessages\\\" [innerHTML]=\\\"msg.messageData.content.text\\\"></span>\\n                                    </ng-container>\\n                                    <ng-container *ngSwitchCase=\\\"MH.MessageContentType.Typing\\\">\\n                                        <div class=\\\"typing-indicator-container\\\">\\n                                            <div class=\\\"typing-indicator\\\">\\n                                                <span></span>\\n                                                <span></span>\\n                                                <span></span>\\n                                            </div>\\n                                        </div>\\n                                    </ng-container>\\n                                    <ng-container *ngSwitchCase=\\\"MH.MessageContentType.Media\\\">\\n                                        <div [ngSwitch]=\\\"msg.messageData.content.media.type\\\">\\n                                            <ng-container *ngSwitchCase=\\\"MH.MediaType.IMAGE\\\">\\n                                                <img [src]=\\\"msg.messageData.content.media.url\\\" class=\\\"chat-media\\\" (click)=\\\"openWindow(msg.messageData.content.media.url)\\\" [class.clickable]=\\\"msg.messageData.content.media.url\\\" />\\n                                                <span class=\\\"chat-bottom-overlay\\\">\\n                                                    <img src=\\\"assets/svg/picture.svg\\\" />&nbsp; {{msg.messageData.content.text||'Photo'}}\\n                                                </span>\\n                                            </ng-container>\\n                                            <ng-container *ngSwitchCase=\\\"MH.MediaType.VIDEO\\\">\\n                                                <video controls=\\\"controls\\\" class=\\\"chat-media\\\" (click)=\\\"openWindow(msg.messageData.content.media.url)\\\" [class.clickable]=\\\"msg.messageData.content.media.url\\\">\\n                                                    <source [src]=\\\"msg.messageData.content.media.url\\\" />\\n                                                </video>\\n                                                <span class=\\\"chat-bottom-overlay\\\">\\n                                                    <img src=\\\"assets/svg/video-from-gallery.svg\\\" />&nbsp; {{msg.messageData.content.text||'Video'}}\\n                                                </span>\\n                                            </ng-container>\\n                                            <ng-container *ngSwitchCase=\\\"MH.MediaType.AUDIO\\\">\\n                                                <div class=\\\"chat-media\\\">\\n                                                    <audio controls=\\\"controls\\\">\\n                                                        <source [src]=\\\"msg.messageData.content.media.url\\\" />\\n                                                    </audio>\\n                                                </div>\\n                                                <span class=\\\"chat-bottom-overlay\\\">\\n                                                    <img src=\\\"assets/svg/record-voice.svg\\\" />&nbsp; {{msg.messageData.content.text||'Audio'}}\\n                                                </span>\\n                                            </ng-container>\\n                                            <ng-container *ngSwitchCase=\\\"MH.MediaType.FILE\\\">\\n                                                <img src=\\\"assets/svg/attachment.svg\\\" class=\\\"chat-media chat-file-attachment\\\" />\\n                                                <span class=\\\"chat-bottom-overlay\\\">\\n                                                    <img src=\\\"assets/svg/attachment-white.svg\\\" />&nbsp; {{msg.messageData.content.text||'File'}}\\n                                                </span>\\n                                            </ng-container>\\n                                        </div>\\n                                    </ng-container>\\n                                </div>\\n                                <span class=\\\"chat-time\\\" [hidden]=\\\"msg.getMessageContentType()==MH.MessageContentType.Typing\\\">\\n                                    <span *ngIf=\\\"msg.direction==MH.Direction.Outgoing && msg.status==MH.MessageStatus.SentTimeout\\\"><a href=\\\"javascript:;\\\" (click)=\\\"msg.executeRetry()\\\" class=\\\"ana-link ana-btn-retry\\\">Retry</a></span>\\n                                    <span *ngIf=\\\"!msg.isToday()\\\">\\n                                        {{msg.time | date:'MMM d, h:mm a'}}\\n                                    </span>\\n                                    <span *ngIf=\\\"msg.isToday()\\\">\\n                                        {{msg.time | date:'shortTime'}}\\n                                    </span>\\n                                    <svg class=\\\"ana-sent-tick\\\" *ngIf=\\\"msg.direction==MH.Direction.Outgoing && msg.status==MH.MessageStatus.ReceivedAtServer\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"10\\\" height=\\\"10\\\">\\n                                        <path d=\\\"M9.887 1.475a.385.385 0 0 0-.544 0L3.11 7.709.657 5.257a.385.385 0 1 0-.544.544l2.724 2.724c.15.15.394.15.544 0L9.887 2.02a.385.385 0 0 0 0-.544z\\\" />\\n                                    </svg>\\n                                    <svg class=\\\"ana-delivered-tick\\\" *ngIf=\\\"msg.direction==MH.Direction.Outgoing && msg.status==MH.MessageStatus.DelieveredToTarget\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"10\\\" height=\\\"10\\\">\\n                                        <path d=\\\"M7.554 2.725l-.601-.6-2.704 2.703.6.601 2.705-2.704zm1.802-.6L4.85 6.673 3.047 4.87l-.6.601L4.85 7.876 10 2.726l-.644-.602zM0 5.471l2.403 2.404.601-.601L.601 4.87 0 5.472z\\\" />\\n                                    </svg>\\n                                </span>\\n                                <span class=\\\"chat-stub\\\"></span>\\n                            </div>\\n                        </div>\\n                    </ng-container>\\n                    <ng-container *ngSwitchCase=\\\"MH.MessageType.CAROUSEL\\\">\\n                        <div class=\\\"carousel-wrapper\\\">\\n                            <div #carouselContainer class=\\\"carousel-container scrollbar\\\" [ngClass]=\\\"msg.meta.id\\\">\\n                                <div *ngFor=\\\"let carItem of msg.messageData.content.items\\\" class=\\\"carousel-item-container\\\">\\n                                    <div class=\\\"carousel-item\\\">\\n                                        <div class=\\\"carousel-item-content\\\" [class.no-media]=\\\"!carouselItemHasMedia(carItem)\\\">\\n                                            <div *ngIf=\\\"carouselItemHasMedia(carItem)\\\">\\n                                                <div [ngSwitch]=\\\"carItem.media.type\\\" class=\\\"carousel-item-media\\\">\\n                                                    <ng-container *ngSwitchCase=\\\"MH.MediaType.IMAGE\\\">\\n                                                        <img [src]=\\\"carItem.media.url\\\" />\\n                                                    </ng-container>\\n                                                    <ng-container *ngSwitchCase=\\\"MH.MediaType.VIDEO\\\">\\n                                                        <video controls [src]=\\\"carItem.media.url\\\"></video>\\n                                                    </ng-container>\\n                                                    <ng-container *ngSwitchCase=\\\"MH.MediaType.AUDIO\\\">\\n                                                        <audio controls [src]=\\\"carItem.media.url\\\"></audio>\\n                                                    </ng-container>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"carousel-item-title text-wrap\\\">\\n                                                {{carItem.title}}\\n                                            </div>\\n                                            <div class=\\\"carousel-item-desc text-wrap\\\">\\n                                                {{carItem.desc}}\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"carousel-item-button-container\\\">\\n                                            <div class=\\\"carousel-item-button\\\" *ngFor=\\\"let carBtn of carItem.options\\\">\\n                                                <button md-button (click)=\\\"handleCarouselClick(msg, carBtn)\\\" [disabled]=\\\"!isLastMessage(msg)\\\">{{carBtn.title}}</button>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"carousel-arrow right\\\" (click)=\\\"scrollCarousel(msg.meta.id, 'right')\\\" [hidden]=\\\"!canScrollCarousel(msg.meta.id,'right')\\\">\\n                                <svg>\\n                                    <path d=\\\"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z\\\"></path>\\n                                </svg>\\n                            </div>\\n                            <div class=\\\"carousel-arrow left\\\" (click)=\\\"scrollCarousel(msg.meta.id, 'left')\\\" [hidden]=\\\"!canScrollCarousel(msg.meta.id,'left')\\\">\\n                                <svg>\\n                                    <path d=\\\"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z\\\"></path>\\n                                </svg>\\n                            </div>\\n                        </div>\\n                    </ng-container>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"chat-input-container\\\" #inputContainer>\\n            <div *ngIf=\\\"chatInput.clickInput\\\">\\n                <div [ngSwitch]=\\\"chatInput.clickInput.content.inputType\\\">\\n                    <ng-container *ngSwitchCase=\\\"MH.InputType.OPTIONS\\\">\\n                        <div class=\\\"chat-input-click-container\\\">\\n                            <div *ngFor=\\\"let option of chatInput.clickInput.content.options\\\" class=\\\"chat-input click\\\">\\n                                <button type=\\\"button\\\" class=\\\"btn-click\\\" (click)=\\\"chatInput.handleBtnOptionClick(chatInput.clickInput, option.value)\\\">{{option.title}}</button>\\n                            </div>\\n                        </div>\\n                    </ng-container>\\n                    <ng-container *ngSwitchDefault>\\n                        <div class=\\\"chat-input-click-container\\\">\\n                            <div class=\\\"chat-input click\\\">\\n                                <button type=\\\"button\\\" class=\\\"btn-click\\\" (click)=\\\"chatInput.handleClick(chatInput.clickInput)\\\">{{chatInput.clickInputTitle()}}</button>\\n                            </div>\\n                        </div>\\n                    </ng-container>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"chat-input text\\\" *ngIf=\\\"chatInput.textInput\\\">\\n                <input [type]=\\\"chatInput.htmlInputType(chatInput.textInput)\\\" [readonly]=\\\"chatInput.textInput.disabled\\\" (keypress)=\\\"chatInput.handleKeyPress(chatInput.textInput, $event)\\\" name=\\\"chat-text\\\" id=\\\"chat-text\\\" class=\\\"chat-text-input\\\" [(ngModel)]=\\\"chatInput.textInput.content.input.val\\\" [placeholder]=\\\"((chatInput.textInput.disabled? 'Waiting for response':(chatInput.textInput.content.textInputAttr?(chatInput.textInput.content.textInputAttr.placeHolder?chatInput.textInput.content.textInputAttr.placeHolder:''):'')))\\\" [maxlength]=\\\"(chatInput.textInput.content.textInputAttr?chatInput.textInput.content.textInputAttr.maxLength:'')\\\" (focus)=\\\"chatTextInputOnFocus()\\\" />\\n                <button type=\\\"button\\\" class=\\\"btn-icon\\\" [disabled]=\\\"!chatInput.textInput.content.input.val\\\" (click)=\\\"chatInput.handleClick(chatInput.textInput)\\\">\\n                    <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\"><path class=\\\"send-button\\\" d=\\\"M23.878.983a.359.359 0 0 0-.388-.056L.208 11.745a.359.359 0 0 0-.007.647l6.589 3.234c.12.06.265.046.372-.035l6.407-4.788-5.03 5.173a.359.359 0 0 0-.1.278l.5 6.52a.359.359 0 0 0 .63.208l3.497-4.053 4.323 2.066a.358.358 0 0 0 .497-.217L23.983 1.36a.359.359 0 0 0-.105-.377z\\\" /></svg>\\n                </button>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/chat-thread/chat-thread.component.html\n// module id = ../../../../../src/app/components/chat-thread/chat-thread.component.html\n// module chunks = main","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit, ViewChildren } from '@angular/core';\nimport { MdDialog, MdDialogRef, MD_DIALOG_DATA } from '@angular/material';\n\nimport * as models from '../../models/ana-chat.models';\nimport * as config from '../../models/ana-config.models';\nimport * as vm from '../../models/ana-chat-vm.models';\nimport { StompService, StompConfig, StompConnectionStatus } from '../../services/stomp.service';\n\nimport { SimulatorService } from '../../services/simulator.service';\n\nimport { APIService } from '../../services/api.service';\nimport { UtilitiesService, Config } from '../../services/utilities.service';\nimport { ChainDelayService } from '../../services/chain-delay.service';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\nimport { InfoDialogService } from '../../services/info-dialog.service';\nimport { SampleService } from '../../services/resolver.service';\n//import { SimulatorService } from '../../services/simulator.service';\n\n\n@Component({\n\tselector: 'app-chat-thread',\n\ttemplateUrl: './chat-thread.component.html',\n\tstyleUrls: ['./chat-thread.component.css']\n})\nexport class ChatThreadComponent implements OnInit, AfterViewInit {\n\n\tngAfterViewInit() {\n\t\tif (this.chatThreadView)\n\t\t\tthis.chatThread.chatThreadView = this.chatThreadView.nativeElement;\n\t}\n\n\tconstructor(\n\t\tprivate stompService: StompService,\n\t\tprivate apiService: APIService,\n\t\tprivate dialog: MdDialog,\n\t\tprivate sample: SampleService,\n\t\tprivate simulator:SimulatorService,\n\t\tprivate sanitizer: DomSanitizer,\n\t\tprivate infoDialog: InfoDialogService,\n\t\tprivate chainDelayService: ChainDelayService) {\n\n\t\tthis.chatThread = new vm.ChatThreadVM(this.sanitizer);\n\t\tthis.chatInput = new vm.ChatInputVM(this.dialog, this.chatThread, this.apiService, this.stompService, this, this.sanitizer);\n\t}\n\t@ViewChild(\"inputContainer\")\n\tinputContainerRef: ElementRef;\n\n\t@ViewChild(\"chatThreadView\")\n\tchatThreadView: ElementRef;\n\n\t@ViewChildren(\"carouselContainer\")\n\tcarouselContainers: ElementRef[];\n\n\tchatThread: vm.ChatThreadVM;\n\tchatInput: vm.ChatInputVM;\n\tsettings: config.AppSettings;\n\tisMin: boolean = false;\n\n\tconnectionStatusMessage() {\n\t\tif (!this.stompService)\n\t\t\treturn '';\n\t\tswitch (this.stompService.connectionStatus) {\n\t\t\tcase StompConnectionStatus.Connected:\n\t\t\t\treturn 'Available';\n\t\t\tcase StompConnectionStatus.Connecting:\n\t\t\t\treturn 'Trying to connect...';\n\t\t\tcase StompConnectionStatus.Disconnected:\n\t\t\t\treturn 'Not available';\n\t\t\tdefault:\n\t\t\t\treturn '';\n\t\t}\n\t}\n\tsetMin(min: boolean) {\n\t\tthis.isMin = min;\n\t}\n\tcarItemWidth: number = 245;\n\tscrollCarousel(carId: string, direction: string) {\n\t\tif (this.carouselContainers && this.carouselContainers.length > 0) {\n\t\t\tlet carousels = this.carouselContainers.map(x => x.nativeElement as HTMLDivElement).filter(x => x.classList.contains(carId));\n\t\t\tif (carousels) {\n\t\t\t\tlet car = carousels[0];\n\t\t\t\tif (direction == 'right') {\n\t\t\t\t\tif (car.scrollBy) {\n\t\t\t\t\t\tcar.scrollBy({ behavior: 'smooth', left: this.carItemWidth }); //The 'left' value should be the width + margin of a single carousel item set in the CSS\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcar.scrollLeft += this.carItemWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (direction == 'left') {\n\t\t\t\t\tif (car.scrollBy) {\n\t\t\t\t\t\tcar.scrollBy({ behavior: 'smooth', left: -this.carItemWidth });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcar.scrollLeft -= this.carItemWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tcanScrollCarousel(carId: string, direction: string) {\n\t\treturn true;\n\t\t//Below implementation is not accurate.\n\n\t\t//if (this.carouselContainers && this.carouselContainers.length > 0) {\n\t\t//    let carousels = this.carouselContainers.map(x => x.nativeElement as HTMLDivElement).filter(x => x.classList.contains(carId));\n\t\t//    if (carousels) {\n\t\t//        let car = carousels[0];\n\t\t//        if (direction == 'right')\n\t\t//            return car.scrollLeft < car.scrollWidth;\n\t\t//        else if (direction == 'left')\n\t\t//            return car.scrollLeft > 0;\n\t\t//    }\n\t\t//}\n\t}\n\n\tisLastInMessageGroup(msg: vm.ChatMessageVM) {\n\t\tlet msgsOnly = this.chatThread.messages.filter(x => x.getMessageContentType() != models.MessageContentType.Typing);\n\t\tvar index = msgsOnly.indexOf(msg);\n\t\tif (index != -1) {\n\t\t\tif (index >= (msgsOnly.length - 1))\n\t\t\t\treturn true;\n\t\t\tif (msgsOnly[index].direction != msgsOnly[index + 1].direction)\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tisLastMessage(msg: vm.ChatMessageVM) {\n\t\tlet msgsOnly = this.chatThread.messages.filter(x => x.getMessageContentType() != models.MessageContentType.Typing);\n\t\tvar index = msgsOnly.indexOf(msg);\n\t\treturn index == msgsOnly.length - 1;\n\t}\n\thandleCarouselClick(chatMessage: vm.ChatMessageVM, carOption: models.CarouselOption) {\n\t\tlet carMsg = chatMessage.carouselMessageData();\n\t\tif (!carMsg.content.input)\n\t\t\tcarMsg.content.input = {\n\t\t\t\tval: \"\"\n\t\t\t};\n\t\tif (carOption.type == models.ButtonType.URL) {\n\t\t\tlet v = JSON.parse(carOption.value);\n\t\t\tcarMsg.content.input.val = v.value;\n\t\t\twindow.open(v.url, '_blank');\n\t\t} else\n\t\t\tcarMsg.content.input.val = carOption.value;\n\n\t\tlet msg = this.chatThread.addTextReply(carOption.title, UtilitiesService.uuidv4());\n\t\tthis._sendMessageDelegate(new models.ANAChatMessage({\n\t\t\tmeta: UtilitiesService.getReplyMeta(chatMessage.meta),\n\t\t\tdata: carMsg\n\t\t}), msg);\n\n\t\tthis.chatInput.resetInputs();\n\t}\n\n\tinsertThreadMessageForCarouselInput(chatMessage: vm.ChatMessageVM) {\n\t\ttry {\n\t\t\tlet carMsg = chatMessage.carouselMessageData();\n\t\t\tlet msg: vm.ChatMessageVM = null;\n\t\t\tcarMsg.content.items.forEach(x => {\n\t\t\t\ttry {\n\t\t\t\t\tx.options.forEach(y => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlet value = \"\";\n\t\t\t\t\t\t\tif (y.type == models.ButtonType.URL) {\n\t\t\t\t\t\t\t\tlet v = JSON.parse(y.value);\n\t\t\t\t\t\t\t\tvalue = v.value;\n\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t\tvalue = y.value;\n\n\t\t\t\t\t\t\tif (value == carMsg.content.input.val)\n\t\t\t\t\t\t\t\tmsg = this.chatThread.addTextReply(y.title, \"\", chatMessage.meta.timestamp, true);\n\t\t\t\t\t\t} catch (e) { console.log(e); }\n\t\t\t\t\t});\n\t\t\t\t} catch (e) { console.log(e); }\n\t\t\t});\n\t\t\treturn msg;\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tfetchingHistory: boolean = false;\n\tlastScrollTop: number = 0;\n\tchatThreadOnScroll(event: UIEvent) {\n\t\tif (!this.chatThread.chatThreadView) return;\n\t\tif (!this.settings || this.settings.simulatorMode) return;\n\n\t\tvar currentScrollTop = this.chatThread.chatThreadView.scrollTop;\n\t\tif (currentScrollTop < this.lastScrollTop) {\n\t\t\tif (this.fetchingHistory)\n\t\t\t\treturn;\n\t\t\tif (this.chatThread.chatThreadView) {\n\t\t\t\tif (this.chatThread.chatThreadView.scrollTop <= 2) {\n\t\t\t\t\tthis.fetchingHistory = true;\n\t\t\t\t\tthis.loadHistory(() => this.fetchingHistory = false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.lastScrollTop = currentScrollTop;\n\t}\n\n\tchatTextInputOnFocus() {\n\t\tthis.chatThread.scrollLastIntoView(1000);\n\t}\n\n\ttextInputFocus() {\n\t\tlet ele = this.inputContainerRef.nativeElement as HTMLDivElement;\n\t\tif (ele) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet inputEle = ele.querySelector('#chat-text') as HTMLInputElement;\n\t\t\t\tif (inputEle)\n\t\t\t\t\tinputEle.focus();\n\t\t\t}, 100);\n\t\t}\n\t}\n\n\tloadHistory(next: () => void) {\n\t\tif (!this.settings || this.settings.simulatorMode) return;\n\t\tlet oldMsgTimestamp = ((this.chatThread.messages && this.chatThread.messages.length > 0) ? this.chatThread.messages[0].meta.timestamp : null);\n\t\tlet oldScrollHeight: number = null;\n\t\tif (this.chatThread.chatThreadView)\n\t\t\toldScrollHeight = this.chatThread.chatThreadView.scrollHeight;\n\t\tthis.apiService.fetchHistory(oldMsgTimestamp).subscribe(resp => {\n\t\t\ttry {\n\t\t\t\tlet chatMsgs = resp.content.map(x => new models.ANAChatMessage(x));\n\t\t\t\tfor (var i = 0; i < chatMsgs.length; i++) {\n\t\t\t\t\tlet chatMsg = chatMsgs[i];\n\t\t\t\t\tlet direction = chatMsg.meta.recipient.id == this.stompService.config.businessId ? vm.Direction.Outgoing : vm.Direction.Incoming;\n\t\t\t\t\tswitch (chatMsg.data.type) {\n\t\t\t\t\t\tcase models.MessageType.CAROUSEL:\n\t\t\t\t\t\t\tif (direction == vm.Direction.Incoming)\n\t\t\t\t\t\t\t\tthis.chatThread.addMessage(new vm.ChatMessageVM(chatMsg, direction, \"\"), true);\n\t\t\t\t\t\t\telse if (direction == vm.Direction.Outgoing)\n\t\t\t\t\t\t\t\tthis.insertThreadMessageForCarouselInput(new vm.ChatMessageVM(chatMsg, direction, \"\"));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase models.MessageType.SIMPLE:\n\t\t\t\t\t\t\tif (direction == vm.Direction.Incoming) //Outgoing messages are never 'SIMPLE',  they are mostly 'INPUT' and rarely 'CAROUSEL'\n\t\t\t\t\t\t\t\tthis.chatThread.addMessage(new vm.ChatMessageVM(chatMsg, direction, \"\"), true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase models.MessageType.INPUT:\n\t\t\t\t\t\t\tif (direction == vm.Direction.Outgoing) { //Ignore incoming input messages as their outgoing messages will be present (along with user given data).\n\t\t\t\t\t\t\t\tthis.chatInput.insertThreadMessageForInput(new vm.ChatInputItemVM(chatMsg));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!oldMsgTimestamp) { //Display input and scroll to last only for page 0 of the history (latest page)\n\t\t\t\t\tif (chatMsgs[0] && chatMsgs[0].data.type == models.MessageType.INPUT) {\n\t\t\t\t\t\tlet inputContent = chatMsgs[0].data.content as models.InputContent;\n\t\t\t\t\t\tif (!inputContent.input || Object.keys(inputContent.input).length <= 0)\n\t\t\t\t\t\t\tthis.chatInput.setInput(new vm.ChatInputItemVM(chatMsgs[0]));\n\t\t\t\t\t}\n\t\t\t\t\tthis.chatThread.scrollToLast();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (oldScrollHeight && this.chatThread.chatThreadView) {\n\t\t\t\t\t\twindow.requestAnimationFrame(() => {\n\t\t\t\t\t\t\tthis.chatThread.chatThreadView.scrollTop = (this.chatThread.chatThreadView.scrollHeight - oldScrollHeight);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) { console.log(e); }\n\t\t\tif (next)\n\t\t\t\tnext();\n\t\t}, err => {\n\t\t\tif (next)\n\t\t\t\tnext();\n\t\t});\n\t}\n\n\t_handleMessageReceivedDelegate = (message) => {\n\t\tif (this.settings && this.settings.stompConfig && this.settings.stompConfig.debug) {\n\t\t\tconsole.log(\"Socket Message Received: \");\n\t\t\tconsole.log(message);\n\t\t}\n\n\t\tswitch (message.data.type) {\n\t\t\tcase models.MessageType.INPUT:\n\t\t\t\t{\n\t\t\t\t\tthis.chainDelayService.delay((queueLength) => {\n\t\t\t\t\t\tthis.chatInput.resetInputs(); //Currently only one input item is supported\n\t\t\t\t\t\tthis.chatInput.setInput(new vm.ChatInputItemVM(message));\n\t\t\t\t\t\tthis.chatThread.removeTyping();\n\t\t\t\t\t\tthis.textInputFocus();\n\t\t\t\t\t}, 0);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tcase models.MessageType.SIMPLE:\n\t\t\tcase models.MessageType.CAROUSEL:\n\t\t\t\t{\n\t\t\t\t\tthis.chatThread.setTyping();\n\t\t\t\t\tthis.chainDelayService.delay((queueLength) => {\n\t\t\t\t\t\tlet msg = new vm.ChatMessageVM(message, vm.Direction.Incoming, \"\");\n\t\t\t\t\t\tthis.chatThread.addMessage(msg);\n\n\t\t\t\t\t\tif (message.data.type == models.MessageType.CAROUSEL) {\n\t\t\t\t\t\t\tlet carItemsWithOptions = msg.carouselMessageData().content.items.filter(x => x.options && x.options.length > 0).length;\n\t\t\t\t\t\t\tif (carItemsWithOptions > 0) //Hide the fixed input textbox if carousel has options\n\t\t\t\t\t\t\t\tthis.chatInput.resetInputs();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (queueLength > 0)\n\t\t\t\t\t\t\tthis.chatThread.setTyping();\n\t\t\t\t\t}, 2000);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\tconsole.log(`Unsupported message type: ${models.MessageType[message.data.type]}`);\n\t\t}\n\t};\n\t_sendMessageDelegate: (message: models.ANAChatMessage, threadMsgRef: vm.ChatMessageVM) => void;\n\n\tremoveConsecutiveErrorsMessage() {\n\t\tlet oldMsgIdx = this.chatThread.messages.findIndex(x => x.messageAckId == Config.consecutiveErrorsMessageAckId);\n\t\tif (oldMsgIdx != -1)\n\t\t\tthis.chatThread.messages.splice(oldMsgIdx, 1);\n\t}\n\n\topenWindow(url: string | SafeUrl) {\n\t\tif (typeof url == 'string')\n\t\t\twindow.open(url);\n\t\telse if (typeof url == 'object') {\n\t\t\twindow.open((<any>url).changingThisBreaksApplicationSecurity);\n\t\t}\n\t}\n\n\tgetStarted(clearThread: boolean, askConfirmation: boolean) {\n\t\tif (askConfirmation) {\n\t\t\tthis.infoDialog.confirm(\"Start a fresh chat?\", \"Restarting the chat will clear current chat messages. Are you sure?\", (ok) => {\n\t\t\t\tif (ok) {\n\t\t\t\t\tthis.getStarted(true, false);\n\t\t\t\t}\n\t\t\t}, \"Yes\", \"No\");\n\t\t\treturn;\n\t\t}\n\t\tif (clearThread) {\n\t\t\tthis.fetchingHistory = true;\n\t\t\tsetTimeout(() => this.fetchingHistory = false, 1000);\n\n\t\t\tthis.chatThread.messages = [];\n\t\t\tthis.chatInput.resetInputs();\n\t\t}\n\t\tlet firstMsg = new models.ANAChatMessage({\n\t\t\t\"meta\": {\n\t\t\t\t\"sender\": {\n\t\t\t\t\t\"id\": this.stompService.config.businessId,\n\t\t\t\t\t\"medium\": 3\n\t\t\t\t},\n\t\t\t\t\"recipient\": {\n\t\t\t\t\t\"id\": this.stompService.config.customerId,\n\t\t\t\t\t\"medium\": 3\n\t\t\t\t},\n\t\t\t\t\"senderType\": models.SenderType.USER,\n\t\t\t\t\"flowId\": this.stompService.config.flowId,\n\t\t\t\t\"previousFlowId\": this.stompService.config.flowId,\n\t\t\t\t\"currentFlowId\": this.stompService.config.flowId,\n\t\t\t\t\"timestamp\": new Date().getTime(),\n\t\t\t},\n\t\t\t\"data\": {\n\t\t\t\t\"type\": 2,\n\t\t\t\t\"content\": {\n\t\t\t\t\t\"inputType\": models.InputType.OPTIONS,\n\t\t\t\t\t\"mandatory\": 1,\n\t\t\t\t\t\"options\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"title\": \"Get Started\",\n\t\t\t\t\t\t\t\"value\": \"GetStarted\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t\"input\": {\n\t\t\t\t\t\t\"val\": \"GET_STARTED\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"events\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": models.EventType.SET_SESSION_DATA,\n\t\t\t\t\t\"data\": JSON.stringify(UtilitiesService.settings.appConfig.initVerbs)\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t\tlet msg = new vm.ChatMessageVM(firstMsg, vm.Direction.Outgoing, UtilitiesService.uuidv4()); //Pseudo, not actually added to thread. \n\t\tthis._sendMessageDelegate(new models.ANAChatMessage({\n\t\t\tmeta: UtilitiesService.getReplyMeta(firstMsg.meta),\n\t\t\tdata: firstMsg.data,\n\t\t\tevents: firstMsg.events\n\t\t}), msg);\n\t}\n\n\tMH = new ModelHelpers();\n\tngOnInit() {\n\t\tthis.settings = UtilitiesService.settings;\n\t\tif (this.settings && this.settings.stompConfig) {\n\t\t\tthis._sendMessageDelegate = (a, b) => this.stompService.sendMessage(a, b);\n\n\t\t\tthis.stompService.handleMessageReceived = this._handleMessageReceivedDelegate;\n\t\t\tthis.stompService.handleConnect = () => {\n\t\t\t\tif (this.chatThread.messages.length <= 0) {\n\t\t\t\t\tthis.getStarted(false, false);\n\t\t\t\t} else {\n\t\t\t\t\t//Retrying all pending messages in the chat thread.\n\t\t\t\t\tthis.removeConsecutiveErrorsMessage();\n\t\t\t\t\tlet pendingMsgs = this.chatThread.messages.filter(x => x.status == vm.MessageStatus.SentTimeout || x.status == vm.MessageStatus.SentToServer && x.retrySending);\n\t\t\t\t\tpendingMsgs.forEach(x => x.retrySending());\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.stompService.handleAck = (messageAckId: string, deliveredAck?: boolean) => {\n\t\t\t\tif (deliveredAck) {\n\t\t\t\t\t//For deliveredAck, msgAckId is the msg.meta.id\n\t\t\t\t\tlet msg = this.chatThread.messages.find(x => x.meta.id == messageAckId);\n\t\t\t\t\tif (msg) {\n\t\t\t\t\t\tmsg.status = vm.MessageStatus.DelieveredToTarget;\n\t\t\t\t\t\tmsg.clearTimeoutTimer();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlet msg = this.chatThread.messages.find(x => x.messageAckId == messageAckId);\n\t\t\t\t\tif (msg) {\n\t\t\t\t\t\tmsg.status = vm.MessageStatus.ReceivedAtServer;\n\t\t\t\t\t\tmsg.clearTimeoutTimer();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.stompService.handleTyping = () => {\n\t\t\t\tthis.chatThread.setTyping();\n\t\t\t};\n\t\t\tthis.stompService.handleConsecutiveErrorsState = () => {\n\t\t\t\tthis.removeConsecutiveErrorsMessage();\n\t\t\t\tthis.chatThread.addTextIncoming(Config.consecutiveErrorsMessageText, Config.consecutiveErrorsMessageAckId);\n\t\t\t};\n\t\t\tthis.loadHistory(() => {\n\t\t\t\ttry {\n\t\t\t\t\tif (window.parent && window.parent.postMessage) {\n\t\t\t\t\t\twindow.parent.postMessage({\n\t\t\t\t\t\t\ttype: \"LOADED\"\n\t\t\t\t\t\t}, \"*\");\n\t\t\t\t\t}\n\t\t\t\t} catch (e) { }\n\t\t\t\tthis.stompService.connect()\n\t\t\t});\n\t\t}\n\t\t//debugger\n\t\t//console.log(\"settings\"+JSON.stringify(this.settings))\n\t\tif (this.settings.simulatorMode) {\n\t\t\tthis.fetchingHistory = false;\n\t\t\tSampleService.handleMessageReceived = this._handleMessageReceivedDelegate;\n\t\t\tthis.simulator.handleMessageReceived = this._handleMessageReceivedDelegate;\n\t\t\t//console.log(\"simulatorr\"+this.simulator.handleMessageReceived)\n\t\t\t//console.log(\"sample service\"+SampleService.handleMessageReceived)\n\n\t\t\tthis.simulator.handleResetSignal = () => {\n\t\t\t\tthis.chatThread.messages = [];\n\t\t\t\tthis.chatInput.resetInputs();\n\t\t\t};\n\t\t\tthis._sendMessageDelegate = (a, b) => this.simulator.sendMessage(a, b);\n\t\t}\n\t}\n\n\tcarouselItemHasMedia(carItem: models.CarouselItem) {\n\t\treturn carItem.media && (carItem.media.type != null || carItem.media.type != undefined) && carItem.media.url;\n\t}\n}\n\nexport class ModelHelpers {\n\tDirection = vm.Direction;\n\tMessageStatus = vm.MessageStatus;\n\tMessageType = models.MessageType;\n\tMessageContentType = models.MessageContentType;\n\tMediaType = models.MediaType;\n\tInputType = models.InputType;\n\tStompConnectionStatus = StompConnectionStatus;\n}\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/chat-thread/chat-thread.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"md-form-field {\\n  width: 100%;\\n}\\n\\nagm-map {\\n  height: 286px;\\n  width: 237px;\\n}\\n\\nmd-list {\\n  max-height: 80vh;\\n  max-width: 90vh;\\n  min-width: 200px;\\n}\\n\\nmd-list-item {\\n  margin: 10px -16px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/complex-input/complex-input.component.css\n// module id = ../../../../../src/app/components/complex-input/complex-input.component.css\n// module chunks = main","module.exports = \"<md-dialog-content>\\n  <div [ngSwitch]=\\\"params.Type\\\">\\n    <ng-container *ngSwitchCase=\\\"ComplexType.Date\\\">\\n      <md-form-field>\\n        <input mdInput [mdDatepicker]=\\\"datePicker\\\" placeholder=\\\"Choose a date\\\" [(ngModel)]=\\\"choosenDate\\\">\\n        <md-datepicker-toggle mdSuffix [for]=\\\"datePicker\\\" class=\\\"ana-color-accent\\\"></md-datepicker-toggle>\\n        <md-datepicker touchUi=\\\"true\\\" #datePicker></md-datepicker>\\n      </md-form-field>\\n    </ng-container>\\n\\n    <ng-container *ngSwitchCase=\\\"ComplexType.Time\\\">\\n      <md-form-field>\\n        <input mdInput type=\\\"time\\\" placeholder=\\\"Choose a time\\\" [(ngModel)]=\\\"choosenTime\\\">\\n      </md-form-field>\\n    </ng-container>\\n    <ng-container *ngSwitchCase=\\\"ComplexType.Address\\\">\\n\\n      <md-form-field>\\n        <input mdInput type=\\\"text\\\" placeholder=\\\"Street Address\\\" [(ngModel)]=\\\"givenAddress.line1\\\" name=\\\"addressLine1\\\">\\n      </md-form-field>\\n\\n      <md-form-field>\\n        <input mdInput type=\\\"text\\\" placeholder=\\\"Area\\\" [(ngModel)]=\\\"givenAddress.area\\\" name=\\\"addressArea\\\">\\n      </md-form-field>\\n\\n      <md-form-field>\\n        <input mdInput type=\\\"text\\\" placeholder=\\\"City\\\" [(ngModel)]=\\\"givenAddress.city\\\" name=\\\"addressCity\\\">\\n      </md-form-field>\\n\\n      <md-form-field>\\n        <input mdInput type=\\\"text\\\" placeholder=\\\"State\\\" [(ngModel)]=\\\"givenAddress.state\\\" name=\\\"addressState\\\">\\n      </md-form-field>\\n\\n      <md-form-field>\\n        <input mdInput type=\\\"text\\\" placeholder=\\\"Country\\\" [(ngModel)]=\\\"givenAddress.country\\\" name=\\\"addressCountry\\\">\\n      </md-form-field>\\n\\n      <md-form-field>\\n        <input mdInput type=\\\"text\\\" placeholder=\\\"Pin\\\" [(ngModel)]=\\\"givenAddress.pin\\\" name=\\\"addressPin\\\">\\n      </md-form-field>\\n    </ng-container>\\n    <ng-container *ngSwitchCase=\\\"ComplexType.Location\\\">\\n      <agm-map [latitude]=\\\"geoLoc.lat\\\" [longitude]=\\\"geoLoc.lng\\\">\\n        <agm-marker [latitude]=\\\"geoLoc.lat\\\" [longitude]=\\\"geoLoc.lng\\\" [markerDraggable]=\\\"true\\\" (dragEnd)=\\\"mapLocationUpdated($event)\\\"></agm-marker>\\n      </agm-map>\\n    </ng-container>\\n    <ng-container *ngSwitchCase=\\\"ComplexType.List\\\">\\n      <md-list *ngIf=\\\"listMultiple\\\">\\n        <md-list-item *ngFor=\\\"let listItem of listValues; let i = index\\\">\\n          <md-checkbox [(ngModel)]=\\\"listItem.isSelected\\\" name=\\\"listItemIsSelected-{{i}}\\\" align=\\\"start\\\">{{listItem.text}}</md-checkbox>\\n        </md-list-item>\\n      </md-list>\\n      <md-list *ngIf=\\\"!listMultiple\\\">\\n        <md-radio-group [(ngModel)]=\\\"selectedListItem\\\">\\n          <md-list-item *ngFor=\\\"let listItem of listValues; let i = index\\\">\\n            <md-radio-button name=\\\"listItemIsSelected-{{i}}\\\" [value]=\\\"listItem\\\" align=\\\"start\\\">{{listItem.text}}</md-radio-button>\\n          </md-list-item>\\n        </md-radio-group>\\n      </md-list>\\n    </ng-container>\\n  </div>\\n</md-dialog-content>\\n<md-dialog-actions align=\\\"center\\\">\\n  <button md-raised-button color=\\\"primary\\\" [disabled]=\\\"!isValid()\\\" md-button class=\\\"complex-input-btn-done\\\" (click)=\\\"dialogClose()\\\">Submit</button>\\n</md-dialog-actions>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/complex-input/complex-input.component.html\n// module id = ../../../../../src/app/components/complex-input/complex-input.component.html\n// module chunks = main","import { Component, OnInit, Inject, ViewChild, ElementRef, AfterViewInit, EventEmitter } from '@angular/core';\nimport { MdDialogRef, MD_DIALOG_DATA, MdDatepicker, MdSelectionList, MdSelectionListOptionEvent } from '@angular/material';\nimport { ANADate, ANATime, AddressInput, GeoLoc, ListItem, ANADateRange } from '../../models/ana-chat.models';\nimport { UtilitiesService } from '../../services/utilities.service';\nimport * as agm from '@agm/core';\n\n@Component({\n\tselector: 'app-complex-input',\n\ttemplateUrl: './complex-input.component.html',\n\tstyleUrls: ['./complex-input.component.css']\n})\nexport class ComplexInputComponent implements OnInit, AfterViewInit {\n\tconstructor(\n\t\tpublic dialogRef: MdDialogRef<ComplexInputComponent>,\n\t\t@Inject(MD_DIALOG_DATA) public params: ComplexInputParams) { }\n\n\tngOnInit() {\n\t\tif (this.params.Type == ComplexType.Location) {\n\t\t\tif (this.params.DefaultGeoLoc)\n\t\t\t\tthis.geoLoc = this.params.DefaultGeoLoc;\n\t\t} else if (this.params.Type == ComplexType.List) {\n\t\t\tthis.listValues = this.params.ListValues;\n\t\t\tthis.listMultiple = this.params.ListMultiple;\n\t\t} else if (this.params.Type == ComplexType.Time) {\n\t\t\tlet date = new Date();\n\t\t\tthis.choosenTime = `${UtilitiesService.pad(date.getHours(), 2)}:${UtilitiesService.pad(date.getMinutes(), 2)}`; //:${UtilitiesService.pad(date.getSeconds(), 2)}\n\t\t}\n\t}\n\n\tngAfterViewInit(): void {\n\t\tPromise.resolve(null).then(() => {\n\t\t\tif (this.params.Type == ComplexType.Date)\n\t\t\t\tthis.datePicker.open();\n\t\t});\n\t}\n\n\tComplexType = ComplexType;\n\n\tchoosenTime: string;\n\tgetChoosenANATime(): ANATime {\n\t\tlet split = this.choosenTime.split(':');\n\t\treturn {\n\t\t\thour: split[0],\n\t\t\tminute: split[1],\n\t\t\tsecond: (split.length >= 3 ? split[2] : '0')\n\t\t};\n\t}\n\n\t@ViewChild(\"datePicker\")\n\tdatePicker: MdDatepicker<Date>;\n\n\tchoosenDate: Date;\n\tgetChoosenANADate(): ANADate {\n\t\treturn {\n\t\t\tmday: this.choosenDate.getDate().toString(),\n\t\t\tmonth: (this.choosenDate.getMonth() + 1).toString(),\n\t\t\tyear: this.choosenDate.getFullYear().toString()\n\t\t};\n\t}\n\n\tgivenAddress: AddressInput = {\n\t\tarea: \"\",\n\t\tcity: \"\",\n\t\tcountry: \"\",\n\t\tline1: \"\",\n\t\tpin: \"\",\n\t\tstate: \"\"\n\t};\n\n\tgeoLoc: GeoLoc = {\n\t\tlat: 0.0,\n\t\tlng: 0.0\n\t};\n\n\tmapLocationUpdated(event: agm.MouseEvent) {\n\t\tthis.geoLoc.lat = event.coords.lat;\n\t\tthis.geoLoc.lng = event.coords.lng;\n\t}\n\n\tselectedListItem: ListItem;\n\tlistValues: ListItem[];\n\tlistMultiple: boolean;\n\tchoosenListValues() {\n\t\tif (this.listMultiple)\n\t\t\treturn this.listValues.filter(x => x.isSelected);\n\t\telse\n\t\t\treturn [this.selectedListItem];\n\t}\n\n\tisValid(): boolean {\n\t\tswitch (this.params.Type) {\n\t\t\tcase ComplexType.Address:\n\t\t\t\t{\n\t\t\t\t\tif (this.givenAddress &&\n\t\t\t\t\t\tthis.givenAddress.area &&\n\t\t\t\t\t\tthis.givenAddress.city &&\n\t\t\t\t\t\tthis.givenAddress.country &&\n\t\t\t\t\t\tthis.givenAddress.line1 &&\n\t\t\t\t\t\tthis.givenAddress.pin &&\n\t\t\t\t\t\tthis.givenAddress.state) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\tcase ComplexType.Date:\n\t\t\t\t{\n\t\t\t\t\tif (this.choosenDate)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\telse\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\tcase ComplexType.Time:\n\t\t\t\t{\n\t\t\t\t\tif (this.choosenTime)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\telse\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\tcase ComplexType.List:\n\t\t\t\t{\n\t\t\t\t\tif (this.listMultiple) {\n\t\t\t\t\t\tif (this.choosenListValues() && this.choosenListValues().length > 0)\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn this.selectedListItem != null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tcase ComplexType.Location:\n\t\t\t\t{\n\t\t\t\t\tif (this.geoLoc)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\telse\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t}\n\t}\n\n\tdialogClose() {\n\t\tthis.dialogRef.close(true);\n\t}\n}\n\nexport enum ComplexType {\n\tDate, Time, Location, Address, List\n}\n\nexport interface ComplexInputParams {\n\tType: ComplexType;\n\tDefaultGeoLoc?: GeoLoc;\n\tListValues?: ListItem[];\n\tListMultiple?: boolean;\n\tAddressRequiredFields?: string[],\n\tdateRange?: ANADateRange\n}\n\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/complex-input/complex-input.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"md-dialog-actions {\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n}\\n\\nmd-form-field {\\n    width: 100%\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/info-dialog/info-dialog.component.css\n// module id = ../../../../../src/app/components/info-dialog/info-dialog.component.css\n// module chunks = main","module.exports = \"<h2 mdDialogTitle>{{options.title}}</h2>\\n<md-dialog-content>\\n    <p>{{options.message}}</p>\\n    <md-form-field [hidden]=\\\"options.dialogType!=InfoDialogType.Prompt\\\">\\n        <input type=\\\"text\\\" name=\\\"text\\\" mdInput [(ngModel)]=\\\"inputText\\\" (keypress)=\\\"inputKeypress($event)\\\" />\\n    </md-form-field>\\n</md-dialog-content>\\n<md-dialog-actions>\\n    <button md-raised-button color=\\\"primary\\\" (click)=\\\"primaryClick()\\\" *ngIf=\\\"primaryButtonText\\\">{{primaryButtonText}}</button>\\n    <button md-raised-button [color]=\\\"options.dialogType==InfoDialogType.Alert?'primary':''\\\" [mdDialogClose]=\\\"false\\\">{{secondaryButtonText}}</button>\\n</md-dialog-actions>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/info-dialog/info-dialog.component.html\n// module id = ../../../../../src/app/components/info-dialog/info-dialog.component.html\n// module chunks = main","import { Component, OnInit, Inject } from '@angular/core';\nimport { MdDialog, MdDialogRef, MD_DIALOG_DATA, MdSnackBar } from '@angular/material';\n\n@Component({\n\tselector: 'app-info-dialog',\n\ttemplateUrl: './info-dialog.component.html',\n\tstyleUrls: ['./info-dialog.component.css']\n})\nexport class InfoDialogComponent implements OnInit {\n\n\tconstructor(\n\t\tprivate dialogRef: MdDialogRef<InfoDialogComponent>,\n\t\t@Inject(MD_DIALOG_DATA) public options: InfoDialogOptions) {\n\t\tthis.dialogRef.disableClose = true;\n\n\t\tif (!options) {\n\t\t\toptions = {\n\t\t\t\tdialogType: InfoDialogType.Alert,\n\t\t\t\ttitle: 'Title',\n\t\t\t\tmessage: 'Message'\n\t\t\t}\n\t\t}\n\n\t\tswitch (options.dialogType) {\n\t\t\tcase InfoDialogType.Confirm:\n\t\t\t\t{\n\t\t\t\t\tthis.primaryButtonText = this.options.primaryButton || \"OK\";\n\t\t\t\t\tthis.secondaryButtonText = this.options.secondaryButton || \"Cancel\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase InfoDialogType.Prompt:\n\t\t\t\t{\n\t\t\t\t\tthis.inputText = options.defaultInputText;\n\t\t\t\t\tthis.primaryButtonText = this.options.primaryButton || \"Done\";\n\t\t\t\t\tthis.secondaryButtonText = this.options.secondaryButton || \"Cancel\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase InfoDialogType.Alert:\n\t\t\tdefault:\n\t\t\t\t{\n\t\t\t\t\tthis.secondaryButtonText = this.options.primaryButton || \"Close\"; //Primary button plays as the text for secondaryButton here.\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tngOnInit() {\n\t}\n\n\tinputKeypress(event: KeyboardEvent) {\n\t\tif (event.keyCode == 13) {\n\t\t\tthis.primaryClick();\n\t\t}\n\t}\n\n\tprimaryClick() {\n\t\tswitch (this.options.dialogType) {\n\t\t\tcase InfoDialogType.Confirm:\n\t\t\t\tthis.dialogRef.close(true);\n\t\t\t\tbreak;\n\t\t\tcase InfoDialogType.Prompt:\n\t\t\t\tthis.dialogRef.close(this.inputText);\n\t\t\t\tbreak;\n\t\t\tcase InfoDialogType.Alert:\n\t\t\tdefault:\n\t\t\t\tthis.dialogRef.close();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tinputText: string;\n\tprimaryButtonText: string;\n\tsecondaryButtonText: string;\n\n\tInfoDialogType = InfoDialogType;\n}\n\nexport interface InfoDialogOptions {\n\tdialogType: InfoDialogType,\n\ttitle: string,\n\tmessage: string,\n\tdefaultInputText?: string,\n\tprimaryButton?: string;\n\tsecondaryButton?: string;\n}\n\nexport enum InfoDialogType {\n\tPrompt,\n\tAlert,\n\tConfirm\n}\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/components/info-dialog/info-dialog.component.ts","import { ElementRef } from '@angular/core';\nimport { MdDialog } from '@angular/material';\n\nimport * as models from './ana-chat.models';\nimport { UtilitiesService, Config } from '../services/utilities.service';\nimport { StompConnectionStatus, StompService } from '../services/stomp.service';\nimport { APIService } from '../services/api.service';\nimport { ComplexInputComponent, ComplexType, ComplexInputParams } from '../components/complex-input/complex-input.component';\nimport { ChatThreadComponent } from '../components/chat-thread/chat-thread.component';\nimport { DomSanitizer } from '@angular/platform-browser';\n\nexport enum Direction {\n\tIncoming,\n\tOutgoing\n}\nexport enum MessageStatus {\n\tNone, SentToServer, ReceivedAtServer, SentTimeout, DelieveredToTarget\n}\nexport class ChatMessageVM {\n\tdirection: Direction;\n\ttime: Date;\n\tmessageData: models.ANAMessageData;\n\tmeta: models.ANAMeta;\n\tmessageAckId: string;\n\tstatus: MessageStatus;\n\n\tprivate timeoutTimer: NodeJS.Timer;\n\tstartTimeoutTimer() {\n\t\tthis.timeoutTimer = setTimeout(() => {\n\t\t\tif (this.status == MessageStatus.SentToServer)\n\t\t\t\tthis.status = MessageStatus.SentTimeout;\n\t\t}, 2000);\n\t}\n\n\tclearTimeoutTimer() {\n\t\tclearTimeout(this.timeoutTimer);\n\t\tthis.timeoutTimer = undefined;\n\t}\n\n\texecuteRetry() {\n\t\tif (this.retrySending)\n\t\t\tthis.retrySending();\n\t}\n\n\tretrySending: () => void;\n\n\tsimpleMessageData() {\n\t\treturn this.messageData as models.SimpleMessageData;\n\t}\n\tcarouselMessageData() {\n\t\treturn this.messageData as models.CarouselMessageData;\n\t}\n\tgetMessageContentType(): models.MessageContentType {\n\t\tif (this.messageData.type == models.MessageType.SIMPLE) {\n\t\t\tvar simple = this.simpleMessageData();\n\t\t\tif (simple.content.typing)\n\t\t\t\treturn models.MessageContentType.Typing;\n\t\t\tif (simple.content.media)\n\t\t\t\treturn models.MessageContentType.Media;\n\t\t\telse if (simple.content.text)\n\t\t\t\treturn models.MessageContentType.Text;\n\t\t\telse\n\t\t\t\treturn null;\n\t\t}\n\t\treturn null;\n\t}\n\n\tisToday() {\n\t\treturn this.time.toDateString() == (new Date()).toDateString();\n\t}\n\n\tconstructor(chatMessage: models.ANAChatMessage, direction: Direction, ackId: string, status?: MessageStatus) {\n\t\tthis.direction = direction;\n\t\tthis.time = new Date(chatMessage.meta.timestamp);\n\t\tthis.meta = chatMessage.meta;\n\t\tthis.messageData = chatMessage.data;\n\n\t\tthis.status = status || MessageStatus.None;\n\t\tthis.messageAckId = ackId;\n\t}\n}\n\nexport class ChatThreadVM {\n\n\tconstructor(private sanitizer: DomSanitizer) {\n\t\tthis.messages = [];\n\t}\n\n\tchatThreadView: HTMLDivElement;\n\tmessages: ChatMessageVM[];\n\n\taddTextIncoming(text: string, ackId: string) {\n\t\tlet msg = new ChatMessageVM(new models.ANAChatMessage({\n\t\t\t\"meta\": {\n\t\t\t\t\"timestamp\": new Date().getTime(),\n\t\t\t},\n\t\t\t\"data\": {\n\t\t\t\t\"type\": models.MessageType.SIMPLE,\n\t\t\t\t\"content\": {\n\t\t\t\t\t\"text\": text,\n\t\t\t\t}\n\t\t\t}\n\t\t}), Direction.Incoming, ackId);\n\n\t\tthis.addMessage(msg);\n\t\treturn msg;\n\t}\n\n\taddTextReply(text: string, ackId: string, timestamp?: number, insert: boolean = false) {\n\t\tif (!text) return null;\n\t\tlet msg = new ChatMessageVM(new models.ANAChatMessage({\n\t\t\t\"meta\": {\n\t\t\t\t\"timestamp\": timestamp || new Date().getTime(),\n\t\t\t},\n\t\t\t\"data\": {\n\t\t\t\t\"type\": models.MessageType.SIMPLE,\n\t\t\t\t\"content\": {\n\t\t\t\t\t\"text\": text,\n\t\t\t\t}\n\t\t\t}\n\t\t}), Direction.Outgoing, ackId);\n\t\tthis.addMessage(msg, insert);\n\t\treturn msg;\n\t}\n\ttypingTimerId: NodeJS.Timer;\n\tsetTyping(autohide?: boolean) {\n\t\tif (this.typingTimerId)\n\t\t\tclearTimeout(this.typingTimerId);\n\t\tthis.removeTyping();\n\t\tlet msg = new ChatMessageVM(new models.ANAChatMessage({\n\t\t\t\"meta\": {\n\t\t\t\t\"timestamp\": new Date().getTime(),\n\t\t\t},\n\t\t\t\"data\": {\n\t\t\t\t\"type\": models.MessageType.SIMPLE,\n\t\t\t\t\"content\": {\n\t\t\t\t\t\"typing\": true\n\t\t\t\t}\n\t\t\t}\n\t\t}), Direction.Incoming, '');\n\n\t\tthis.addMessage(msg);\n\t\tif (autohide) {\n\t\t\tthis.typingTimerId = setTimeout(() => {\n\t\t\t\tthis.removeTyping();\n\t\t\t}, 1000);\n\t\t}\n\t}\n\n\tremoveTyping() {\n\t\tlet index = this.messages.findIndex(x => x.getMessageContentType() == models.MessageContentType.Typing);\n\t\tif (index != -1) {\n\t\t\tthis.messages.splice(index, 1);\n\t\t\tif (this.typingTimerId)\n\t\t\t\tclearTimeout(this.typingTimerId);\n\t\t}\n\t}\n\n\taddMediaReply(media: models.SimpleMedia, text: string = '', ackId: string, timestamp?: number, insert: boolean = false) {\n\t\tlet msg = new ChatMessageVM(new models.ANAChatMessage({\n\t\t\t\"meta\": {\n\t\t\t\t\"timestamp\": timestamp || new Date().getTime(),\n\t\t\t},\n\t\t\t\"data\": {\n\t\t\t\t\"type\": models.MessageType.SIMPLE,\n\t\t\t\t\"content\": {\n\t\t\t\t\t\"text\": text,\n\t\t\t\t\t\"media\": media,\n\t\t\t\t}\n\t\t\t}\n\t\t}), Direction.Outgoing, ackId);\n\t\tthis.addMessage(msg, insert);\n\t\treturn msg;\n\t}\n\n\taddMessage(chatMsgVM: ChatMessageVM, insert: boolean = false) {\n\t\tif (UtilitiesService.settings.simulatorMode) {\n\t\t\tlet simpleData = chatMsgVM.simpleMessageData();\n\t\t\tif (simpleData.content.media && simpleData.content.media.url)\n\t\t\t\tsimpleData.content.media.url = <any>this.sanitizer.bypassSecurityTrustUrl(simpleData.content.media.url);\n\t\t}\n\t\tif (!insert)\n\t\t\tthis.removeTyping();\n\t\tif (!chatMsgVM.meta.id || this.messages.findIndex(x => x.meta.id == chatMsgVM.meta.id) == -1) {//Not allowing duplicate messages, if meta.id is set\n\t\t\tif (insert)\n\t\t\t\tthis.messages.unshift(chatMsgVM);\n\t\t\telse\n\t\t\t\tthis.messages.push(chatMsgVM);\n\t\t}\n\n\t\t//Sorting the messages based on timestamp. Currently disabled.\n\t\t//this.messages.sort((x, y) => x.meta.timestamp - y.meta.timestamp);\n\t\tif (!insert)\n\t\t\tthis.scrollLastIntoView();\n\t}\n\n\tscrollLastIntoView(t: number = 100) {\n\t\tif (this.chatThreadView)\n\t\t\tsetTimeout(() => this.chatThreadView.children.item(this.chatThreadView.children.length - 1).scrollIntoView({ behavior: 'smooth' }), t);\n\t}\n\n\tscrollToLast() {\n\t\tif (this.chatThreadView)\n\t\t\twindow.requestAnimationFrame(() => this.chatThreadView.scrollTo({ top: this.chatThreadView.scrollHeight, behavior: 'smooth' }));\n\t}\n}\n\nexport class ChatInputItemVM {\n\tcontent: models.InputContent;\n\tdata: models.ANAMessageData;\n\tmeta: models.ANAMeta;\n\tdisabled: boolean;\n\ttextInputContent() {\n\t\treturn this.content as models.TextInputContent;\n\t}\n\n\tconstructor(message: models.ANAChatMessage) {\n\t\tthis.data = message.data;\n\t\tthis.content = message.inputData().content;\n\t\tif (!this.content.input)\n\t\t\tthis.content.input = {};\n\t\tthis.meta = message.meta;\n\t\tthis.disabled = false;\n\t}\n}\nexport class ChatInputVM {\n\tconstructor(\n\t\tpublic dialog: MdDialog,\n\t\tpublic chatThread: ChatThreadVM,\n\t\tpublic apiService: APIService,\n\t\tpublic stomp: StompService,\n\t\tpublic chatThreadComponent: ChatThreadComponent,\n\t\tpublic sanitizer: DomSanitizer) { }\n\n\tinsertThreadMessageForInput(inputVM: ChatInputItemVM) {\n\t\tlet ackId = \"\";\n\t\tlet timestamp = inputVM.meta.timestamp;\n\t\tswitch (inputVM.content.inputType) {\n\t\t\tcase models.InputType.TEXT:\n\t\t\tcase models.InputType.EMAIL:\n\t\t\tcase models.InputType.PHONE:\n\t\t\tcase models.InputType.NUMERIC:\n\t\t\t\t{\n\t\t\t\t\tlet modifieldInputContent = inputVM.content as models.TextInputContent;\n\t\t\t\t\treturn this.chatThread.addTextReply(modifieldInputContent.input.val, ackId, timestamp, true);\n\t\t\t\t}\n\t\t\tcase models.InputType.ADDRESS:\n\t\t\t\t{\n\t\t\t\t\tlet modifieldInputContent = inputVM.content as models.AddressInputContent;\n\t\t\t\t\tlet userAddressInput = modifieldInputContent.input.address;\n\t\t\t\t\treturn this.chatThread.addTextReply(`${[userAddressInput.line1, userAddressInput.area, userAddressInput.city, userAddressInput.state, userAddressInput.country, userAddressInput.pin].filter(x => x).join(\", \")}`, ackId, timestamp, true);\n\t\t\t\t}\n\t\t\tcase models.InputType.LOCATION:\n\t\t\t\t{\n\t\t\t\t\tlet locInputData = inputVM.content as models.LocationInputContent;\n\t\t\t\t\tlet gMapUrl = UtilitiesService.googleMapsStaticLink(locInputData.input.location);\n\t\t\t\t\treturn this.chatThread.addMediaReply({\n\t\t\t\t\t\tpreviewUrl: gMapUrl,\n\t\t\t\t\t\ttype: models.MediaType.IMAGE,\n\t\t\t\t\t\turl: gMapUrl\n\t\t\t\t\t}, \"Location\", ackId, timestamp, true);\n\t\t\t\t}\n\t\t\tcase models.InputType.MEDIA:\n\t\t\t\t{\n\t\t\t\t\tlet mediaInputContent = inputVM.content as models.MediaInputContent;\n\t\t\t\t\tif (mediaInputContent && mediaInputContent.input.media) {\n\t\t\t\t\t\tlet asset = mediaInputContent.input.media[0];\n\t\t\t\t\t\tlet media: models.SimpleMedia = {\n\t\t\t\t\t\t\tpreviewUrl: asset.previewUrl,\n\t\t\t\t\t\t\ttype: asset.type,\n\t\t\t\t\t\t\turl: asset.url\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn this.chatThread.addMediaReply(media, '', ackId, timestamp, true);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\tcase models.InputType.LIST:\n\t\t\t\t{\n\t\t\t\t\tlet listInputContent = inputVM.content as models.ListInputContent;\n\t\t\t\t\tlet selectedValues = listInputContent.input.val.split(',');\n\t\t\t\t\tlet selectedListItems = listInputContent.values.filter(x => selectedValues.indexOf(x.value) != -1);\n\n\t\t\t\t\treturn this.chatThread.addTextReply(selectedListItems.map(x => x.text).join(', '), ackId, timestamp, true);\n\t\t\t\t}\n\t\t\tcase models.InputType.TIME:\n\t\t\t\t{\n\t\t\t\t\tlet timeContent = inputVM.content as models.TimeInputContent;\n\t\t\t\t\tlet displayTime = UtilitiesService.anaTimeDisplay(timeContent.input.time);\n\t\t\t\t\treturn this.chatThread.addTextReply(displayTime, ackId, timestamp, true);\n\t\t\t\t}\n\t\t\tcase models.InputType.DATE:\n\t\t\t\t{\n\t\t\t\t\tlet dateContent = inputVM.content as models.DateInputContent;\n\t\t\t\t\tlet displayDate = UtilitiesService.anaDateDisplay(dateContent.input.date);\n\t\t\t\t\treturn this.chatThread.addTextReply(displayDate, ackId, timestamp, true);\n\t\t\t\t}\n\t\t\tcase models.InputType.OPTIONS:\n\t\t\t\t{\n\t\t\t\t\tlet optionInputContent = inputVM.content as models.OptionsInputContent;\n\t\t\t\t\tlet selectedOption = optionInputContent.options.find(x => x.value == optionInputContent.input.val);\n\t\t\t\t\tif (selectedOption)\n\t\t\t\t\t\treturn this.chatThread.addTextReply(selectedOption.title, ackId, timestamp, true);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\tconsole.log(`Unsupported button type: ${inputVM.content.inputType}`);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetInput(chatInputItemVM: ChatInputItemVM) {\n\t\tif (this.textInput)\n\t\t\tthis.textInput.disabled = true;\n\n\t\tif (this.inputCategory(chatInputItemVM) == models.InputCategory.Text) {\n\t\t\tlet a = (chatInputItemVM.content as models.TextInputContent);\n\t\t\tif (a.textInputAttr && a.textInputAttr.defaultText)\n\t\t\t\ta.input.val = a.textInputAttr.defaultText;\n\n\t\t\tthis.textInput = chatInputItemVM;\n\t\t} else if (this.inputCategory(chatInputItemVM) == models.InputCategory.Click) {\n\t\t\tthis.clickInput = chatInputItemVM;\n\t\t\tif (chatInputItemVM.content.mandatory == models.Bool.FALSE) {\n\t\t\t\tthis.textInput = this.textInputForNonMandatoryCase(chatInputItemVM.meta);\n\t\t\t} else\n\t\t\t\tthis.textInput = undefined;\n\t\t}\n\n\t\tthis.chatThread.scrollLastIntoView(300);\n\t}\n\n\ttextInputForNonMandatoryCase(srcMeta: models.ANAMeta) {\n\t\tlet anaMeta: models.ANAMeta = {\n\t\t\tid: \"\",\n\t\t\tsender: {\n\t\t\t\tid: UtilitiesService.settings.stompConfig ? UtilitiesService.settings.stompConfig.businessId : Config.simulatorBusinessId,\n\t\t\t\tmedium: 3,\n\t\t\t},\n\t\t\trecipient: {\n\t\t\t\tid: UtilitiesService.settings.stompConfig ? UtilitiesService.settings.stompConfig.customerId : Config.simulatorCustomerId,\n\t\t\t\tmedium: 3\n\t\t\t},\n\t\t\tresponseTo: srcMeta ? srcMeta.id : '',\n\t\t\tsenderType: models.SenderType.USER,\n\t\t\tsessionId: srcMeta ? srcMeta.sessionId : '',\n\t\t\tflowId: srcMeta.flowId,\n\t\t\tcurrentFlowId: srcMeta.currentFlowId,\n\t\t\tpreviousFlowId: srcMeta.previousFlowId,\n\t\t\ttimestamp: srcMeta ? srcMeta.timestamp : new Date().getTime()\n\t\t};\n\t\tlet input = new ChatInputItemVM(new models.ANAChatMessage({\n\t\t\tmeta: anaMeta,\n\t\t\tdata: {\n\t\t\t\ttype: models.MessageType.INPUT,\n\t\t\t\tcontent: {\n\t\t\t\t\tinputType: 0,\n\t\t\t\t\tmandatory: 1,\n\t\t\t\t\ttextInputAttr: {\n\t\t\t\t\t\tmultiLine: 1,\n\t\t\t\t\t\tminLength: 0,\n\t\t\t\t\t\tmaxLength: 400,\n\t\t\t\t\t\tdefaultText: \"\",\n\t\t\t\t\t\tplaceHolder: \"Type a message...\"\n\t\t\t\t\t},\n\t\t\t\t\tinput: {\n\t\t\t\t\t\tval: \"\",\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\treturn input;\n\t}\n\n\ttextInput: ChatInputItemVM = undefined;\n\tclickInput: ChatInputItemVM = undefined;\n\n\tclickInputTitle() {\n\t\tif (this.clickInput) {\n\t\t\ttry {\n\t\t\t\tif (this.clickInput.content.inputType == models.InputType.MEDIA)\n\t\t\t\t\treturn 'Choose ' + models.MediaType[(<models.MediaInputContent>this.clickInput.content).mediaType].toLowerCase();\n\t\t\t\tif (this.clickInput.content.inputType == models.InputType.LIST) {\n\t\t\t\t\tif ((<models.ListInputContent>this.clickInput.content).multiple) \n\t\t\t\t\t\treturn 'Choose';\n\t\t\t\t\telse\n\t\t\t\t\t\treturn 'Choose an option';\n\t\t\t\t}\n\t\t\t\treturn 'Choose ' + models.InputType[this.clickInput.content.inputType].toLowerCase();\n\t\t\t} catch (e) {\n\t\t\t\treturn 'Choose';\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\treturn \"Choose\";\n\t}\n\n\tinputCategory(inputVM: ChatInputItemVM): models.InputCategory {\n\t\tswitch (inputVM.content.inputType) {\n\t\t\tcase models.InputType.TEXT:\n\t\t\tcase models.InputType.EMAIL:\n\t\t\tcase models.InputType.NUMERIC:\n\t\t\tcase models.InputType.PHONE:\n\t\t\t\treturn models.InputCategory.Text;\n\t\t\tdefault:\n\t\t\t\treturn models.InputCategory.Click;\n\t\t}\n\t}\n\n\thandleClick(inputVM: ChatInputItemVM) {\n\t\tif (!this.isInputValid(inputVM)) {\n\t\t\tlet errorMsg = this.inputErrorMsg(inputVM);\n\t\t\tlet lastMsg = this.chatThread.messages[this.chatThread.messages.length - 1];\n\t\t\tif (lastMsg.direction == Direction.Incoming && lastMsg.messageAckId == \"ERROR_MSG\" && lastMsg.simpleMessageData().content.text == errorMsg)\n\t\t\t\treturn; //Skip if already error message is added with the same msg text.\n\n\t\t\t//alert(this.inputErrorMsg(inputVM));\n\t\t\tswitch (inputVM.content.inputType) {\n\t\t\t\tcase models.InputType.TEXT:\n\t\t\t\tcase models.InputType.EMAIL:\n\t\t\t\tcase models.InputType.PHONE:\n\t\t\t\tcase models.InputType.NUMERIC:\n\t\t\t\t\t{\n\t\t\t\t\t\tlet modifieldInputContent = inputVM.content as models.TextInputContent;\n\t\t\t\t\t\tthis.chatThread.addTextReply(modifieldInputContent.input.val, \"\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t}\n\t\t\tthis.chatThread.addTextIncoming(errorMsg, \"ERROR_MSG\");\n\t\t\treturn;\n\t\t}\n\n\t\tlet ackId = UtilitiesService.uuidv4();\n\t\tswitch (inputVM.content.inputType) {\n\t\t\tcase models.InputType.TEXT:\n\t\t\tcase models.InputType.EMAIL:\n\t\t\tcase models.InputType.PHONE:\n\t\t\tcase models.InputType.NUMERIC:\n\t\t\t\t{\n\t\t\t\t\tthis.resetInputs();\n\t\t\t\t\tlet modifieldInputContent = inputVM.content as models.TextInputContent;\n\t\t\t\t\tlet msg = this.chatThread.addTextReply(modifieldInputContent.input.val, ackId);\n\t\t\t\t\tthis.chatThreadComponent._sendMessageDelegate(new models.ANAChatMessage({\n\t\t\t\t\t\tmeta: UtilitiesService.getReplyMeta(inputVM.meta),\n\t\t\t\t\t\tdata: { type: inputVM.data.type, content: modifieldInputContent }\n\t\t\t\t\t}), msg);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tcase models.InputType.ADDRESS:\n\t\t\t\t{\n\t\t\t\t\tlet modifieldInputContent = inputVM.content as models.AddressInputContent;\n\n\t\t\t\t\tlet dialogRef = this.dialog.open(ComplexInputComponent, {\n\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tType: ComplexType.Address\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdialogRef.afterClosed().subscribe(result => {\n\t\t\t\t\t\tif (result != true) return;\n\t\t\t\t\t\tlet userAddressInput = dialogRef.componentInstance.givenAddress;\n\t\t\t\t\t\tlet msg = this.chatThread.addTextReply(`${UtilitiesService.anaAddressDisplay(userAddressInput)}`, ackId);\n\t\t\t\t\t\tmodifieldInputContent.input = {\n\t\t\t\t\t\t\taddress: userAddressInput\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.resetInputs();\n\n\t\t\t\t\t\tthis.chatThreadComponent._sendMessageDelegate(new models.ANAChatMessage({\n\t\t\t\t\t\t\tmeta: UtilitiesService.getReplyMeta(inputVM.meta),\n\t\t\t\t\t\t\tdata: { type: inputVM.data.type, content: modifieldInputContent }\n\t\t\t\t\t\t}), msg);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tcase models.InputType.LOCATION:\n\t\t\t\t{\n\t\t\t\t\tlet locInputData = inputVM.content as models.LocationInputContent;\n\n\t\t\t\t\tlet geoLoc: models.GeoLoc = locInputData.defaultLocation;\n\t\t\t\t\tif (!geoLoc) {\n\t\t\t\t\t\tif (navigator.geolocation) {\n\t\t\t\t\t\t\tnavigator.geolocation.getCurrentPosition((pos) => {\n\t\t\t\t\t\t\t\tlet loc: models.GeoLoc = {\n\t\t\t\t\t\t\t\t\tlat: pos.coords.latitude,\n\t\t\t\t\t\t\t\t\tlng: pos.coords.longitude\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.showLocationPickerDialog(locInputData, inputVM.meta, inputVM.data.type, ackId, loc);\n\t\t\t\t\t\t\t}, err => {\n\t\t\t\t\t\t\t\tthis.showLocationPickerDialog(locInputData, inputVM.meta, inputVM.data.type, ackId);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else\n\t\t\t\t\t\tthis.showLocationPickerDialog(locInputData, inputVM.meta, inputVM.data.type, ackId, geoLoc);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tcase models.InputType.MEDIA:\n\t\t\t\t{\n\t\t\t\t\tlet mediaInputContent = inputVM.content as models.MediaInputContent;\n\t\t\t\t\tlet input = document.createElement('input');\n\t\t\t\t\tinput.type = 'file';\n\t\t\t\t\tif (mediaInputContent.mediaType != models.MediaType.FILE)\n\t\t\t\t\t\tinput.accept = `${models.MediaType[mediaInputContent.mediaType]}/*`;\n\t\t\t\t\tinput.multiple = false;\n\t\t\t\t\tinput.onchange = () => {\n\t\t\t\t\t\tif (input.files) {\n\t\t\t\t\t\t\tlet f = input.files[0];\n\t\t\t\t\t\t\tif (!UtilitiesService.settings.simulatorMode) {\n\t\t\t\t\t\t\t\tthis.apiService.uploadFile(f).subscribe(resp => {\n\t\t\t\t\t\t\t\t\tif (resp.links)\n\t\t\t\t\t\t\t\t\t\tthis.sendReplyAfterFileUpload(resp.links[0].href, f.type, mediaInputContent, ackId, inputVM);\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\talert(\"Error occurred while sending the file!\");\n\t\t\t\t\t\t\t\t}, err => {\n\t\t\t\t\t\t\t\t\talert(\"Unable to send file!\");\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlet mediaBlob = new Blob([f], {\n\t\t\t\t\t\t\t\t\ttype: f.type\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tlet mediaBlobUrl = URL.createObjectURL(mediaBlob, { oneTimeOnly: false });\n\t\t\t\t\t\t\t\tthis.sendReplyAfterFileUpload(mediaBlobUrl, f.type, mediaInputContent, ackId, inputVM);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tinput.click();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tcase models.InputType.LIST:\n\t\t\t\t{\n\t\t\t\t\tlet listInputContent = inputVM.content as models.ListInputContent;\n\t\t\t\t\tlet dialogRef = this.dialog.open(ComplexInputComponent, {\n\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tType: ComplexType.List,\n\t\t\t\t\t\t\tListValues: listInputContent.values,\n\t\t\t\t\t\t\tListMultiple: listInputContent.multiple\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdialogRef.afterClosed().subscribe(result => {\n\t\t\t\t\t\tif (result != true) return;\n\t\t\t\t\t\tthis.resetInputs();\n\n\t\t\t\t\t\tlet selectedListItems = dialogRef.componentInstance.choosenListValues();\n\t\t\t\t\t\tlet msg = this.chatThread.addTextReply(selectedListItems.map(x => x.text).join(', '), ackId);\n\t\t\t\t\t\tlistInputContent.input.val = selectedListItems.map(x => x.value).join(',');\n\t\t\t\t\t\tthis.chatThreadComponent._sendMessageDelegate(new models.ANAChatMessage({\n\t\t\t\t\t\t\tmeta: UtilitiesService.getReplyMeta(inputVM.meta),\n\t\t\t\t\t\t\tdata: { type: inputVM.data.type, content: listInputContent }\n\t\t\t\t\t\t}), msg);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tcase models.InputType.TIME:\n\t\t\t\t{\n\t\t\t\t\tlet timeContent = inputVM.content as models.TimeInputContent;\n\n\t\t\t\t\tlet dialogRef = this.dialog.open(ComplexInputComponent, {\n\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tType: ComplexType.Time\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdialogRef.afterClosed().subscribe(result => {\n\t\t\t\t\t\tif (result != true) return;\n\t\t\t\t\t\tthis.resetInputs();\n\n\t\t\t\t\t\tlet userInputTime = dialogRef.componentInstance.getChoosenANATime();\n\t\t\t\t\t\tlet displayTime = UtilitiesService.anaTimeDisplay(userInputTime);\n\t\t\t\t\t\tlet msg = this.chatThread.addTextReply(displayTime, ackId);\n\t\t\t\t\t\ttimeContent.input = { time: userInputTime };\n\t\t\t\t\t\tthis.chatThreadComponent._sendMessageDelegate(new models.ANAChatMessage({\n\t\t\t\t\t\t\tmeta: UtilitiesService.getReplyMeta(inputVM.meta),\n\t\t\t\t\t\t\tdata: { type: inputVM.data.type, content: timeContent }\n\t\t\t\t\t\t}), msg);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tcase models.InputType.DATE:\n\t\t\t\t{\n\t\t\t\t\tlet dateContent = inputVM.content as models.DateInputContent;\n\n\t\t\t\t\tlet dialogRef = this.dialog.open(ComplexInputComponent, {\n\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tType: ComplexType.Date\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdialogRef.afterClosed().subscribe(result => {\n\t\t\t\t\t\tif (result != true) return;\n\t\t\t\t\t\tthis.resetInputs();\n\n\t\t\t\t\t\tlet userInputDate = dialogRef.componentInstance.getChoosenANADate();\n\t\t\t\t\t\tlet displayDate = UtilitiesService.anaDateDisplay(userInputDate);\n\t\t\t\t\t\tlet msg = this.chatThread.addTextReply(displayDate, ackId);\n\t\t\t\t\t\tdateContent.input = { date: userInputDate };\n\t\t\t\t\t\tthis.chatThreadComponent._sendMessageDelegate(new models.ANAChatMessage({\n\t\t\t\t\t\t\tmeta: UtilitiesService.getReplyMeta(inputVM.meta),\n\t\t\t\t\t\t\tdata: { type: inputVM.data.type, content: dateContent }\n\t\t\t\t\t\t}), msg);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tcase models.InputType.OPTIONS:\n\t\t\t\t{\n\t\t\t\t\tthis.resetInputs();\n\n\t\t\t\t\tlet optionInputContent = inputVM.content as models.OptionsInputContent;\n\t\t\t\t\tlet msg = this.chatThread.addTextReply(optionInputContent.input.title, ackId);\n\t\t\t\t\tthis.chatThreadComponent._sendMessageDelegate(new models.ANAChatMessage({\n\t\t\t\t\t\tmeta: UtilitiesService.getReplyMeta(inputVM.meta),\n\t\t\t\t\t\tdata: { type: inputVM.data.type, content: optionInputContent }\n\t\t\t\t\t}), msg);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\tconsole.log(`Unsupported button type: ${inputVM.content.inputType}`);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\thandleKeyPress(inputVM: ChatInputItemVM, event: KeyboardEvent) {\n\t\tif (event.keyCode == 13) //Enter key\n\t\t{\n\t\t\tif (this.inputCategory(inputVM) == models.InputCategory.Text) {\n\t\t\t\tif (inputVM.textInputContent().input.val)\n\t\t\t\t\tthis.handleClick(inputVM);\n\t\t\t} else\n\t\t\t\tthis.handleClick(inputVM);\n\t\t} else {\n\t\t\tthis.stomp.sendTypingMessage(inputVM.meta);\n\t\t}\n\t}\n\thandleBtnOptionClick(inputVM: ChatInputItemVM, optionVal: string) {\n\t\tif (inputVM.content.inputType == models.InputType.OPTIONS) {\n\t\t\tlet x = inputVM.content as models.OptionsInputContent;\n\t\t\tlet option = x.options.find(y => y.value == optionVal);\n\t\t\tif (!option) {\n\t\t\t\talert('Invalid option!');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (option.type == models.ButtonType.URL) {\n\t\t\t\tlet v = JSON.parse(option.value);\n\t\t\t\tx.input.val = v.value;\n\t\t\t\twindow.open(v.url, '_blank');\n\t\t\t} else\n\t\t\t\tx.input.val = option.value;\n\n\t\t\tx.input.title = option.title;\n\t\t}\n\t\tthis.handleClick(inputVM);\n\t}\n\thtmlInputType(inputVM: ChatInputItemVM): string {\n\t\tswitch (inputVM.content.inputType) {\n\t\t\tcase models.InputType.TEXT:\n\t\t\tcase models.InputType.PHONE:\n\t\t\t\treturn 'text';\n\t\t\tcase models.InputType.EMAIL:\n\t\t\t\treturn 'email';\n\t\t\tcase models.InputType.NUMERIC:\n\t\t\t\treturn 'number';\n\t\t\tdefault:\n\t\t\t\treturn 'text';\n\t\t}\n\t}\n\tisInputValid(inputVM: ChatInputItemVM) {\n\t\tswitch (inputVM.content.inputType) {\n\t\t\tcase models.InputType.TEXT:\n\t\t\t\t{\n\t\t\t\t\tlet x = inputVM.content as models.TextInputContent;\n\t\t\t\t\tif (!x.input.val)\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tif (x.textInputAttr) {\n\t\t\t\t\t\tif (x.textInputAttr.minLength > 0 && x.input.val.length < x.textInputAttr.minLength)\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\tif (x.textInputAttr.maxLength > 0 && x.input.val.length > x.textInputAttr.maxLength)\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\tcase models.InputType.EMAIL:\n\t\t\t\t{\n\t\t\t\t\tlet x = inputVM.content as models.TextInputContent;\n\t\t\t\t\treturn x.input.val && x.input.val.match(Config.emailRegex);\n\t\t\t\t}\n\t\t\tcase models.InputType.PHONE:\n\t\t\t\t{\n\t\t\t\t\tlet x = inputVM.content as models.TextInputContent;\n\t\t\t\t\treturn x.input.val && x.input.val.match(Config.phoneRegex);\n\t\t\t\t}\n\t\t\tcase models.InputType.NUMERIC:\n\t\t\t\t{\n\t\t\t\t\tlet x = inputVM.content as models.TextInputContent;\n\t\t\t\t\treturn x.input.val && x.input.val.match(Config.numberRegex);\n\t\t\t\t}\n\t\t\tcase models.InputType.ADDRESS:\n\t\t\tcase models.InputType.LOCATION:\n\t\t\tcase models.InputType.MEDIA:\n\t\t\tcase models.InputType.LIST:\n\t\t\tcase models.InputType.TIME:\n\t\t\tcase models.InputType.DATE:\n\t\t\t\t{\n\t\t\t\t\t//These are validated in the complex input dialog itself.\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\tcase models.InputType.OPTIONS:\n\t\t\t\t{\n\t\t\t\t\tlet x = inputVM.content as models.OptionsInputContent;\n\t\t\t\t\treturn x.input.val;\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\tconsole.log(`Unsupported button type: ${inputVM.content.inputType}`);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tinputErrorMsg(inputVM: ChatInputItemVM) {\n\t\tswitch (inputVM.content.inputType) {\n\t\t\tcase models.InputType.EMAIL:\n\t\t\t\treturn 'Please give a valid email address';\n\t\t\tcase models.InputType.NUMERIC:\n\t\t\t\treturn 'Please give a valid number';\n\t\t\tcase models.InputType.PHONE:\n\t\t\t\treturn 'Please give a valid phone number';\n\t\t\tcase models.InputType.TEXT:\n\t\t\t\t{\n\t\t\t\t\tlet c = inputVM.textInputContent();\n\t\t\t\t\tif (!c.input.val)\n\t\t\t\t\t\treturn \"The value cannot be empty\";\n\t\t\t\t\tif (c.input.val && c.input.val.length < c.textInputAttr.minLength)\n\t\t\t\t\t\treturn `Minimum ${c.textInputAttr.minLength} characters required.`;\n\t\t\t\t\telse if (c.input.val && c.input.val.length > c.textInputAttr.maxLength)\n\t\t\t\t\t\treturn `Maximum ${c.textInputAttr.maxLength} characters allowed.`;\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn 'The value cannot be empty!';\n\t\t}\n\t}\n\tresetInputs() {\n\t\tthis.textInput = undefined;\n\t\tthis.clickInput = undefined;\n\t}\n\n\tshowLocationPickerDialog(locInputContent: models.LocationInputContent, inputMeta: models.ANAMeta, inputMessageType: models.MessageType, ackId: string, defaultLoc?: models.GeoLoc) {\n\t\tlet dialogRef = this.dialog.open(ComplexInputComponent, {\n\t\t\twidth: 'auto',\n\t\t\tdata: {\n\t\t\t\tType: ComplexType.Location,\n\t\t\t\tDefaultGeoLoc: defaultLoc\n\t\t\t}\n\t\t});\n\t\tdialogRef.afterClosed().subscribe(result => {\n\t\t\tif (result != true) return;\n\t\t\tthis.resetInputs();\n\n\t\t\tlet userInputLoc = dialogRef.componentInstance.geoLoc;\n\t\t\tlet gMapUrl = UtilitiesService.googleMapsStaticLink(userInputLoc);\n\t\t\tlet msg = this.chatThread.addMediaReply({\n\t\t\t\tpreviewUrl: gMapUrl,\n\t\t\t\ttype: models.MediaType.IMAGE,\n\t\t\t\turl: gMapUrl\n\t\t\t}, \"Location\", ackId);\n\t\t\tlocInputContent.input = { location: userInputLoc };\n\t\t\tthis.chatThreadComponent._sendMessageDelegate(new models.ANAChatMessage({\n\t\t\t\tmeta: UtilitiesService.getReplyMeta(inputMeta),\n\t\t\t\tdata: { type: inputMessageType, content: locInputContent }\n\t\t\t}), msg);\n\t\t});\n\t}\n\n\tsendReplyAfterFileUpload(assetUrl: string, assetType: string, mediaInputContent: models.MediaInputContent, ackId: string, inputVM: ChatInputItemVM) {\n\n\t\tlet media = {\n\t\t\tpreviewUrl: assetUrl,\n\t\t\ttype: UtilitiesService.getAnaMediaTypeFromMIMEType(assetType),\n\t\t\turl: assetUrl\n\t\t};\n\n\t\tlet msg = this.chatThread.addMediaReply(media, '', ackId);\n\t\tmediaInputContent.input = { media: [media] };\n\n\t\tthis.resetInputs();\n\t\tthis.chatThreadComponent._sendMessageDelegate(new models.ANAChatMessage({\n\t\t\tmeta: UtilitiesService.getReplyMeta(inputVM.meta),\n\t\t\tdata: { type: inputVM.data.type, content: mediaInputContent }\n\t\t}), msg);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/models/ana-chat-vm.models.ts","export interface ANAClientInfo {\n\tid: string;\n\tmedium: number;\n}\n\nexport interface ANAMeta {\n\tid: string;\n\tsender: ANAClientInfo;\n\trecipient: ANAClientInfo;\n\tsenderType: SenderType;\n\ttimestamp: number;\n\tsessionId: string;\n\tflowId?: string;\n\tpreviousFlowId?: string;\n\tcurrentFlowId?: string;\n\tresponseTo: string;\n}\n\nexport interface ANAEvent {\n\ttype: EventType,\n\tdata: any\n}\n\nexport enum InputType {\n\tLOCATION = 7, //Click, Complex\n\tDATE = 5, //Click, Complex\n\tTIME = 6, //Click, Complex\n\tADDRESS = 4, //Click, Complex\n\tMEDIA = 8, //Click, Non Complex\n\tOPTIONS = 10, //Click, Non Complex\n\tLIST = 9, //Click, Complex\n\tPHONE = 3,\n\tEMAIL = 2,\n\tNUMERIC = 1,\n\tTEXT = 0,\n}\n\nexport enum EventType {\n\tSET_SESSION_DATA = 21,\n\tTYPING = 11,\n\tACK = 13\n}\n\nexport enum SenderType {\n\tAGENT = 3,\n\tANA = 1,\n\tAI = 2,\n\tUSER = 0\n}\n\nexport enum MediaType {\n\tIMAGE = 0,\n\tVIDEO = 2,\n\tFILE = 3,\n\tAUDIO = 1\n}\n\nexport enum ButtonType {\n\tACTION = 2,\n\tQUICK_REPLY = 1,\n\tURL = 0\n}\n\nexport enum MessageType {\n\tCAROUSEL = 1,\n\tINPUT = 2,\n\tEXTERNAL = 3,\n\tSIMPLE = 0\n}\n\nexport enum Bool {\n\tTRUE = 1,\n\tFALSE = 0,\n}\n\nexport interface BaseContent {\n\tmandatory?: Bool;\n}\n\nexport interface SimpleMessageData extends ANAMessageData {\n\tcontent: SimpleContent;\n}\n\nexport interface CarouselMessageData extends ANAMessageData {\n\tcontent: CarouselContent;\n}\n\nexport interface InputMessageData extends ANAMessageData {\n\tcontent: InputContent;\n}\n\nexport interface ANAMessageData {\n\ttype: MessageType;\n\tcontent: BaseContent;\n}\n\nexport interface InputContent extends BaseContent {\n\tinputType: InputType;\n\tinput?: any; //base input\n}\n\nexport interface TextInputContent extends InputContent {\n\ttextInputAttr?: TextInputAttr;\n\tinput?: TextInput;\n}\n\nexport interface ListItem {\n\ttext: string;\n\tvalue: string;\n\tisSelected?: boolean;\n}\n\nexport interface OptionItem {\n\ttitle: string;\n\tvalue: string;\n\ttype?: ButtonType;\n}\n\nexport interface OptionsInputContent extends InputContent {\n\toptions: OptionItem[];\n\tinput?: TextInput;\n}\n\nexport interface ListInputContent extends InputContent {\n\tvalues: ListItem[];\n\tinput?: TextInput;\n\tmultiple: boolean;\n}\n\nexport interface AddressInput {\n\tline1: string;\n\tarea: string;\n\tcity: string;\n\tstate: string;\n\tcountry: string;\n\tpin: string;\n}\nexport interface AddressInputField {\n\taddress: AddressInput;\n}\nexport interface AddressInputContent extends InputContent {\n\trequiredFields: string[];\n\tinput: AddressInputField;\n}\n\nexport interface GeoLoc {\n\tlat: number;\n\tlng: number;\n}\n\nexport interface LocationInput {\n\tlocation: GeoLoc\n}\n\nexport interface LocationInputContent extends InputContent {\n\tdefaultLocation: GeoLoc;\n\ttextInputAttr: TextInputAttr;\n\tinput: LocationInput;\n}\n\nexport interface ANADate {\n\tyear: string;\n\tmonth: string;\n\tmday: string;\n}\nexport interface ANADateRange {\n\tmin: ANADate;\n\tmax: ANADate;\n\tinterval: string;\n}\n\nexport interface DateInput {\n\tdate: ANADate;\n}\n\nexport interface DateInputContent extends InputContent {\n\tdateRange: ANADateRange;\n\tinput: DateInput;\n}\nexport interface ANATime {\n\thour: string;\n\tminute: string;\n\tsecond: string;\n}\nexport interface ANATimeRange {\n\tmin: ANATime;\n\tmax: ANATime;\n\tinterval: string;\n}\nexport interface TimeInput {\n\ttime: ANATime;\n}\nexport interface TimeInputContent extends InputContent {\n\tdateRange: ANATimeRange;\n\tinput: TimeInput;\n}\n\nexport interface SimpleMedia {\n\turl: string;\n\ttype: MediaType;\n\tpreviewUrl?: string;\n}\n\nexport interface SimpleContent extends BaseContent {\n\ttext: string;\n\tmedia?: SimpleMedia;\n\ttyping?: boolean;\n}\n\nexport interface CarouselMedia {\n\turl: string;\n\ttype: MediaType;\n}\n\nexport interface CarouselOption {\n\ttitle: string;\n\tvalue: string;\n\ttype?: ButtonType;\n}\n\nexport interface CarouselItem {\n\ttitle: string;\n\tdesc: string;\n\tmedia: CarouselMedia;\n\toptions: CarouselOption[];\n\turl: string;\n}\n\nexport interface CarouselContent extends BaseContent {\n\titems: CarouselItem[];\n\tmandatory: number;\n\tinput?: TextInput;\n}\n\nexport interface TextInputAttr {\n\tmultiLine: number;\n\tminLength: number;\n\tmaxLength: number;\n\tdefaultText: string;\n\tplaceHolder: string;\n}\n\nexport interface TextInput {\n\tval?: string;\n\t//Raw user input\n\tinput?: string;\n\ttitle?: string; //Text visible on outgoing thread.\n}\n\nexport enum InputCategory {\n\tClick, Text\n}\n\nexport enum MessageContentType {\n\tText,\n\tMedia,\n\tTyping\n}\n\nexport interface MediaInput {\n\tmedia: SimpleMedia[];\n}\n\nexport interface MediaInputContent extends InputContent {\n\tmediaType: MediaType;\n\tinput: MediaInput;\n}\n\nexport interface IANAChatMessage {\n\tmeta: ANAMeta;\n\tdata: ANAMessageData;\n\tevents?: ANAEvent[];\n}\n\nexport class ANAChatMessage implements IANAChatMessage {\n\tconstructor(rawMessage: any) {\n\t\tthis.raw = rawMessage;\n\t\tthis.meta = this.raw.meta as ANAMeta;\n\t\tthis.data = this.raw.data as ANAMessageData;\n\t\tthis.events = this.raw.events as ANAEvent[];\n\t}\n\tprivate raw?: any;\n\tmeta: ANAMeta;\n\tdata: ANAMessageData;\n\tevents?: ANAEvent[] = [];\n\n\tsimpleData() {\n\t\treturn this.data as SimpleMessageData;\n\t}\n\tcarouselData() {\n\t\treturn this.data as CarouselMessageData;\n\t}\n\tinputData() {\n\t\treturn this.data as InputMessageData;\n\t}\n\n\textract() {\n\t\treturn {\n\t\t\tmeta: this.meta,\n\t\t\tdata: this.data,\n\t\t\tevents: this.events\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/models/ana-chat.models.ts","import { Injectable } from '@angular/core';\nimport { LazyMapsAPILoader, LAZY_MAPS_API_CONFIG, LazyMapsAPILoaderConfigLiteral } from '@agm/core';\nimport { UtilitiesService } from '../services/utilities.service';\n\n@Injectable()\nexport class GoogleMapsConfig implements LazyMapsAPILoaderConfigLiteral {\n    constructor(utils: UtilitiesService) {\n        UtilitiesService.googleMapsConfigRef = this;\n    }\n    apiKey: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/models/google-maps-config.model.ts","import { Injectable } from '@angular/core';\nimport { Http, Headers } from '@angular/http';\nimport 'rxjs/add/operator/map'\n\nimport { ANATime, ANADate, ANAMeta, SenderType } from '../models/ana-chat.models';\nimport { StompConfig } from './stomp.service';\nimport { AppConfig, AppSettings, BrandingConfig, ThirdPartyConfig } from '../models/ana-config.models';\nimport { UtilitiesService } from '../services/utilities.service';\n\n@Injectable()\nexport class APIService {\n\tfileUploadEndpoint: string;\n\tapiEndpoint: string;\n\tprivate chatHistoryEndpoint: string;\n\n\tconstructor(public http: Http) { }\n\n\tsetAPIEndpoint(apiEndpoint: string) {\n\t\tthis.apiEndpoint = apiEndpoint;\n\t\tif (this.apiEndpoint && !this.apiEndpoint.endsWith('/'))\n\t\t\tthis.apiEndpoint += \"/\";\n\t\tif (!this.fileUploadEndpoint)\n\t\t\tthis.fileUploadEndpoint = this.apiEndpoint + \"files\";\n\t\tthis.chatHistoryEndpoint = this.apiEndpoint + \"chatdata/messages?userId={userId}&businessId={businessId}&flowId={flowId}&size={size}&page=0&ofCurrentSession={ofCurrentSession}\";\n\t}\n\n\tuploadFile(file: File) {\n\t\tlet formData = new FormData();\n\t\tformData.append(\"file\", file);\n\t\tlet headers = new Headers();\n\t\treturn this.http.post(this.fileUploadEndpoint, formData, { headers }).map(res => res.json() as UploadFileResponse);\n\t}\n\n\tfetchHistory(oldestMsgTimestamp: number, size: number = 20) {\n\t\tlet businessId = UtilitiesService.settings.stompConfig.businessId;\n\t\tlet customerId = UtilitiesService.settings.stompConfig.customerId;\n\t\tlet flowId = UtilitiesService.settings.stompConfig.flowId;\n\t\tlet currentSessionOnly = UtilitiesService.settings.stompConfig.currentSessionOnly;\n\n\t\tlet api = this.chatHistoryEndpoint\n\t\t\t.replace('{userId}', customerId)\n\t\t\t.replace('{businessId}', businessId)\n\t\t\t.replace('{size}', size.toString())\n\t\t\t.replace('{flowId}', flowId)\n\t\t\t.replace('{ofCurrentSession}', currentSessionOnly ? 'true' : 'false');\n\n\t\tif (oldestMsgTimestamp)\n\t\t\tapi += \"&lastMessageTimeStamp=\" + oldestMsgTimestamp.toString();\n\t\treturn this.http.get(api).map(res => res.json() as ChatHistoryResponse);\n\t}\n}\n\nexport interface Link {\n\trel: string;\n\thref: string;\n}\n\nexport interface UploadFileResponse {\n\tdata: boolean;\n\tlinks: Link[];\n}\n\nexport interface ChatHistoryResponse {\n\tcontent: any[];\n\tnumber: number;\n\tnumberOfElements: number;\n\tsize: number;\n\ttotalElements: number;\n\tisFirst: boolean;\n\tisLast: boolean;\n\ttotalPages: number;\n}\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/api.service.ts","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class ChainDelayService {\n\tconstructor() { }\n\n\tprivate queue: any[] = [];\n\tprivate timer: NodeJS.Timer;\n\n\tprivate schedule(fn: (queueLength: number) => any, t: number) {\n\t\tthis.timer = setTimeout(() => {\n\t\t\tthis.timer = null;\n\t\t\tfn(this.queue.length);\n\t\t\tif (this.queue.length) {\n\t\t\t\tlet item = this.queue.shift();\n\t\t\t\tthis.schedule(item.fn, item.t);\n\t\t\t}\n\t\t}, t);\n\t};\n\tdelay(fn: (queueLength: number) => any, t: number) {\n\t\t// if already queuing things or running a timer, \n\t\t//   then just add to the queue\n\t\tif (this.queue.length || this.timer) {\n\t\t\tthis.queue.push({ fn: fn, t: t });\n\t\t} else {\n\t\t\t// no queue or timer yet, so schedule the timer\n\t\t\tthis.schedule(fn, t);\n\t\t}\n\t};\n\tcancel() {\n\t\tclearTimeout(this.timer);\n\t\tthis.queue = [];\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/chain-delay.service.ts","import { Injectable } from '@angular/core';\nimport { MdDialog, MdDialogRef } from '@angular/material';\nimport { InfoDialogComponent, InfoDialogOptions, InfoDialogType } from '../components/info-dialog/info-dialog.component';\n\n@Injectable()\nexport class InfoDialogService {\n\tconstructor(private dialog: MdDialog) { }\n\n\talert(title: string, message: string, callback?: () => void, primaryButton?: string, secondaryButton?: string) {\n\t\tlet data: InfoDialogOptions = {\n\t\t\tdialogType: InfoDialogType.Alert,\n\t\t\tmessage: message,\n\t\t\ttitle: title,\n\t\t\tprimaryButton: primaryButton,\n\t\t\tsecondaryButton: secondaryButton\n\t\t}\n\t\tlet d = this.dialog.open(InfoDialogComponent, {\n\t\t\twidth: 'auto',\n\t\t\tdata: data\n\t\t});\n\t\tif (callback)\n\t\t\td.afterClosed().subscribe(x => {\n\t\t\t\tif (callback)\n\t\t\t\t\tcallback();\n\t\t\t});\n\t}\n\tprompt(title: string, message: string, callback: (result: string) => void, defaultText?: string, primaryButton?: string, secondaryButton?: string) {\n\t\tlet data: InfoDialogOptions = {\n\t\t\tdialogType: InfoDialogType.Prompt,\n\t\t\tmessage: message,\n\t\t\ttitle: title,\n\t\t\tdefaultInputText: defaultText,\n\t\t\tprimaryButton: primaryButton,\n\t\t\tsecondaryButton: secondaryButton\n\t\t}\n\n\t\tlet d = this.dialog.open(InfoDialogComponent, {\n\t\t\twidth: 'auto',\n\t\t\tdata: data\n\t\t});\n\t\td.afterClosed().subscribe(x => {\n\t\t\tcallback(x as string);\n\t\t});\n\t}\n\tconfirm(title: string, message: string, callback: (result: boolean) => void, primaryButton?: string, secondaryButton?: string) {\n\t\tlet data: InfoDialogOptions = {\n\t\t\tdialogType: InfoDialogType.Confirm,\n\t\t\tmessage: message,\n\t\t\ttitle: title,\n\t\t\tprimaryButton: primaryButton,\n\t\t\tsecondaryButton: secondaryButton\n\t\t}\n\n\t\tlet d = this.dialog.open(InfoDialogComponent, {\n\t\t\twidth: 'auto',\n\t\t\tdata: data\n\t\t});\n\t\td.afterClosed().subscribe(x => {\n\t\t\tcallback(x as boolean);\n\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/info-dialog.service.ts","import { Injectable } from '@angular/core';\n\nlet MAT_CSS = require('../../../node_modules/@angular/material/prebuilt-themes/indigo-pink.css');\n@Injectable()\nexport class MatCSSService {\n\tconstructor() { }\n\n\tloadCustomMatTheme(accent: string, customStyle: HTMLStyleElement, appCSS: string) {\n\t\tlet c1 = /#3f51b5/g;\n\t\tlet c2 = /#ff4081/g;\n\t\tlet c3 = /#f44336/g;\n\n\t\t//Replacing mat default theme colors with the requested accent color\n\t\tlet resultCSS = MAT_CSS.replace(c1, accent).replace(c2, accent).replace(c3, accent) + \"\\r\\n\" + appCSS;\n\t\tcustomStyle.innerHTML = resultCSS;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/mat-css.service.ts","import * as _ from 'underscore';\r\nimport * as jsonpath from 'jsonpath';\r\nimport { SimulatorService } from \"./simulator.service\"\r\nimport { Http, Headers } from \"@angular/http\"\r\nimport { Injectable } from '@angular/core';\r\nimport { UtilitiesService } from \"./utilities.service\"\r\n//import systemjs from 'systemjs';\r\nimport { SimulatorFrameComponent } from \"../components/simulator-frame.component\"\r\n//import { SampleService } from './ .service';\r\nimport { SenderType, InputType, ANAChatMessage, MessageType, InputContent, LocationInput, DateInput, TimeInput, AddressInputField, MediaInput, MediaType, TextInput, ListInputContent, CarouselContent, ANAMessageData, ANAMeta, SimpleContent, OptionsInputContent, DateInputContent, MediaInputContent, AddressInputContent, LocationInputContent, TextInputContent, ListItem, IANAChatMessage } from '../models/ana-chat.models';\r\nimport { SampleService } from './resolver.service';\r\n\r\n\r\n\r\nexport enum VariableType {\r\n    Array, String, Object, Other\r\n}\r\n\r\nexport enum ButtonType {\r\n    ACTION = 2,\r\n    QUICK_REPLY = 1,\r\n    URL = 0\r\n}\r\n\r\n//////////////////////////////////////////\r\n\r\n\r\n\r\n\r\n\r\n///////////////////////////////////////////\r\n\r\n\r\n\r\n///////////////////////////////////////////\r\nexport enum SectionType {\r\n    Image = 'Image',\r\n    Text = 'Text',\r\n    Graph = 'Graph',\r\n    Gif = 'Gif',\r\n    Audio = 'Audio',\r\n    Video = 'Video',\r\n    Link = 'Link',\r\n    EmbeddedHtml = 'EmbeddedHtml',\r\n    Carousel = 'Carousel',\r\n    PrintOTP = 'PrintOTP'\r\n}\r\n\r\nexport enum CarouselButtonType {\r\n    NextNode = 'NextNode',\r\n    DeepLink = 'DeepLink',\r\n    OpenUrl = 'OpenUrl'\r\n}\r\n\r\nexport enum NodeType {\r\n    ApiCall = 'ApiCall',\r\n    Combination = 'Combination',\r\n    Card = 'Card',\r\n    JumpToBot = 'JumpToBot',\r\n    Condition = 'Condition',\r\n    HandoffToAgent = 'HandoffToAgent'\r\n}\r\n\r\nexport enum APIMethod {\r\n    GET = 'GET',\r\n    POST = 'POST',\r\n    PUT = 'PUT',\r\n    DELETE = 'DELETE',\r\n    HEAD = 'HEAD',\r\n    OPTIONS = 'OPTIONS',\r\n    CONNECT = 'CONNECT',\r\n}\r\n\r\nexport enum CardPlacement {\r\n    Incoming = 'Incoming',\r\n    Outgoing = 'Outgoing',\r\n    Center = 'Center'\r\n}\r\n//Enums End\r\n\r\n// Sections - Start\r\nexport interface TitleCaptionEntity {\r\n    Title?: string;\r\n    Caption?: string;\r\n}\r\n\r\nexport interface BaseIdEntity {\r\n    _id: string;\r\n}\r\n\r\nexport interface BaseEntity extends BaseIdEntity { }\r\n\r\nexport interface Section extends BaseEntity {\r\n    SectionType: SectionType;\r\n    DelayInMs?: number;\r\n    Hidden?: boolean;\r\n\r\n    ContentId?: string;\r\n    ContentEmotion?: string;\r\n}\r\n\r\nexport interface RepeatableBaseEntity extends BaseEntity {\r\n    DoesRepeat?: boolean;\r\n    RepeatOn?: string;\r\n    RepeatAs?: string;\r\n    StartPosition?: string;\r\n    MaxRepeats?: number;\r\n}\r\n\r\nexport interface TextSection extends Section {\r\n    Text: string;\r\n}\r\n\r\nexport interface TitleCaptionSection extends Section, TitleCaptionEntity { }\r\n\r\nexport interface TitleCaptionUrlSection extends TitleCaptionSection {\r\n    Url: string;\r\n}\r\n\r\nexport interface ImageSection extends TitleCaptionUrlSection { }\r\n\r\nexport interface VideoSection extends TitleCaptionUrlSection { }\r\n\r\nexport interface AudioSection extends TitleCaptionUrlSection { }\r\n\r\nexport interface EmbeddedHtmlSection extends TitleCaptionUrlSection { }\r\n\r\nexport interface CarouselButton extends RepeatableBaseEntity {\r\n    Url?: string;\r\n    Type?: CarouselButtonType;\r\n    VariableValue?: string;\r\n    NextNodeId?: string;\r\n    Text?: string;\r\n\r\n    ContentId?: string;\r\n    ContentEmotion?: string;\r\n}\r\n\r\nexport interface CarouselItem extends RepeatableBaseEntity, TitleCaptionEntity {\r\n    ImageUrl?: string;\r\n    Buttons?: CarouselButton[];\r\n\r\n    ContentId?: string;\r\n    ContentEmotion?: string;\r\n}\r\n\r\nexport interface CarouselSection extends TitleCaptionSection {\r\n    Items: CarouselItem[];\r\n}\r\n// Sections - End\r\nexport enum ConditionOperator {\r\n    EqualTo = 'EqualTo',\r\n    NotEqualTo = 'NotEqualTo',\r\n    GreaterThan = 'GreaterThan',\r\n    LessThan = 'LessThan',\r\n    GreaterThanOrEqualTo = 'GreaterThanOrEqualTo',\r\n    LessThanOrEqualTo = 'LessThanOrEqualTo',\r\n    Mod = 'Mod',\r\n    In = 'In',\r\n    NotIn = 'NotIn',\r\n    StartsWith = 'StartsWith',\r\n    EndsWith = 'EndsWith',\r\n    Contains = 'Contains',\r\n    Between = 'Between',\r\n    IsNull = 'IsNull'\r\n}\r\n\r\nexport enum ButtonType {\r\n    OpenUrl = 'OpenUrl',\r\n    GetText = 'GetText',\r\n    GetNumber = 'GetNumber',\r\n    GetAddress = 'GetAddress',\r\n    GetEmail = 'GetEmail',\r\n    GetPhoneNumber = 'GetPhoneNumber',\r\n    GetItemFromSource = 'GetItemFromSource',\r\n    GetImage = 'GetImage',\r\n    GetAudio = 'GetAudio',\r\n    GetVideo = 'GetVideo',\r\n    NextNode = 'NextNode',\r\n    DeepLink = 'DeepLink',\r\n    GetAgent = 'GetAgent',\r\n    GetFile = 'GetFile',\r\n    ShowConfirmation = 'ShowConfirmation',\r\n    FetchChatFlow = 'FetchChatFlow',\r\n    /// Format: yyyy-MM-dd\r\n    GetDate = 'GetDate',\r\n    /// Format: HH:mm:ss\r\n    GetTime = 'GetTime',\r\n    /// Format: yyyy-MM-ddTHH:mm:ss\r\n    GetDateTime = 'GetDateTime',\r\n    /// Format: [Latitude],[Longitude]\r\n    GetLocation = 'GetLocation'\r\n}\r\n\r\nexport interface Button extends BaseIdEntity {\r\n    ButtonName: string;\r\n    ButtonText?: string;\r\n    Emotion?: number;\r\n    ButtonType: ButtonType;\r\n    DeepLinkUrl?: string;\r\n    Url?: string;\r\n    ItemsSource?: string;\r\n    AllowMultiple?: boolean;\r\n\r\n    BounceTimeout?: number;\r\n    NextNodeId?: string;\r\n    DefaultButton?: boolean;\r\n    Hidden?: boolean;\r\n    VariableValue?: string;\r\n    PrefixText?: string;\r\n    PostfixText?: string;\r\n    PlaceholderText?: string;\r\n    ConditionMatchKey?: string;\r\n    ConditionOperator?: ConditionOperator;\r\n    ConditionMatchValue?: string;\r\n    PostToChat?: boolean;\r\n    DoesRepeat?: boolean;\r\n    RepeatOn?: string;\r\n    RepeatAs?: string;\r\n    StartPosition?: number;\r\n    MaxRepeats?: number;\r\n    AdvancedOptions?: boolean;\r\n    MinLength?: number;\r\n    MaxLength?: number;\r\n    DefaultText?: string;\r\n    IsMultiLine?: boolean;\r\n\r\n    ContentId?: string;\r\n    ContentEmotion?: string;\r\n}\r\n\r\nexport interface ChatNode {\r\n    Name: string;\r\n    Id: string;\r\n    Emotion?: string;\r\n    NodeType: NodeType;\r\n    Sections: Section[];\r\n    Buttons: Button[];\r\n    VariableName?: string;\r\n    ApiMethod?: APIMethod;\r\n    ApiUrl?: string;\r\n    ApiResponseDataRoot?: string;\r\n    NextNodeId?: string;\r\n    RequiredVariables?: string[];\r\n    GroupName?: string;\r\n    CardHeader?: string;\r\n    CardFooter?: string;\r\n    Placement?: CardPlacement;\r\n    IsStartNode?: boolean;\r\n    IsGoalNode?: boolean;\r\n    TargetBotId?: string;\r\n    TargetNodeId?: string;\r\n\r\n    RequestBody?: string;\r\n    Headers?: string;\r\n}\r\n\r\nexport interface ChatContent {\r\n    ButtonId: string;\r\n    ButtonText: string;\r\n    NodeName?: string;\r\n    NodeId: string;\r\n    Emotion?: string;\r\n    CreatedOn: Date;\r\n    UpdatedOn: Date;\r\n    _id?: string;\r\n    SectionText: string;\r\n    SectionId: string;\r\n    Title: string;\r\n    Caption: string;\r\n}\r\n\r\n//WebNodeLocations: NodeLocations;\r\nexport interface ChatFlowPack {\r\n    ProjectId: string;\r\n    ChatNodes: ChatNode[];\r\n    NodeLocations?: NodeLocations;\r\n    CreatedOn: Date;\r\n    UpdatedOn: Date;\r\n    _id: string;\r\n}\r\n\r\nexport interface NodeLocations {\r\n    [key: string]: LayoutPoint;\r\n}\r\n\r\nexport interface LayoutPoint {\r\n    X: number;\r\n    Y: number;\r\n}\r\n\r\nexport enum EditorType {\r\n    Text = 'Text',\r\n    TitleCaptionUrl = 'TitleCaptionUrl',\r\n    Carousel = 'Carousel'\r\n}\r\n\r\nexport class ModelHelpers {\r\n    constructor(\r\n        // public globalsService: GlobalsService\r\n        //public infoDialog: InfoDialogService\r\n    ) {\r\n\r\n    }\r\n\r\n    CarouselButtonType = CarouselButtonType;\r\n\r\n    carouselButtonTypes: CarouselButtonType[] = [\r\n        CarouselButtonType.NextNode,\r\n        CarouselButtonType.OpenUrl,\r\n    ];\r\n\r\n    nodeTypes: NodeType[] = [\r\n        NodeType.ApiCall,\r\n        NodeType.Combination,\r\n        //NodeType.Card,\r\n        NodeType.Condition,\r\n        NodeType.HandoffToAgent,\r\n        NodeType.JumpToBot\r\n    ];\r\n    apiMethods: APIMethod[] = [\r\n        APIMethod.GET,\r\n        APIMethod.POST,\r\n        APIMethod.PUT,\r\n        APIMethod.HEAD,\r\n        APIMethod.OPTIONS,\r\n        APIMethod.DELETE,\r\n        APIMethod.CONNECT\r\n    ];\r\n    cardPlacements: CardPlacement[] = [\r\n        CardPlacement.Center,\r\n        CardPlacement.Incoming,\r\n        CardPlacement.Outgoing,\r\n    ];\r\n    buttonTypes: ButtonType[] = [\r\n        ButtonType.DeepLink,\r\n        //ButtonType.FetchChatFlow,\r\n        ButtonType.GetAddress,\r\n        //ButtonType.GetAgent,\r\n        ButtonType.GetAudio,\r\n        ButtonType.GetDate,\r\n        //ButtonType.GetDateTime,\r\n        ButtonType.GetEmail,\r\n        ButtonType.GetImage,\r\n        ButtonType.GetItemFromSource,\r\n        ButtonType.GetLocation,\r\n        ButtonType.GetNumber,\r\n        ButtonType.GetPhoneNumber,\r\n        ButtonType.GetText,\r\n        ButtonType.GetTime,\r\n        ButtonType.GetVideo,\r\n        ButtonType.GetFile,\r\n        ButtonType.NextNode,\r\n        ButtonType.OpenUrl,\r\n        //ButtonType.ShowConfirmation\r\n    ];\r\n    conditionOperators: ConditionOperator[] = [\r\n        ConditionOperator.EqualTo,\r\n        ConditionOperator.NotEqualTo,\r\n        ConditionOperator.GreaterThan,\r\n        ConditionOperator.LessThan,\r\n        ConditionOperator.GreaterThanOrEqualTo,\r\n        ConditionOperator.LessThanOrEqualTo,\r\n        ConditionOperator.Mod,\r\n        ConditionOperator.In,\r\n        ConditionOperator.NotIn,\r\n        ConditionOperator.StartsWith,\r\n        ConditionOperator.EndsWith,\r\n        ConditionOperator.Contains,\r\n        ConditionOperator.Between,\r\n        ConditionOperator.IsNull\r\n    ];\r\n    sectionAlias(section: Section) {\r\n        switch (section.SectionType) {\r\n            case SectionType.Text:\r\n                {\r\n                    let ts = section as TextSection;\r\n                    return ts.Text || ts.SectionType;\r\n                }\r\n            case SectionType.Image:\r\n            case SectionType.Audio:\r\n            case SectionType.Video:\r\n            case SectionType.EmbeddedHtml:\r\n            case SectionType.Gif:\r\n            case SectionType.Graph:\r\n            case SectionType.Carousel:\r\n                {\r\n                    let tcs = section as TitleCaptionSection;\r\n                    return tcs.Title || tcs.Caption || tcs.SectionType;\r\n                }\r\n            default:\r\n                return section.SectionType;\r\n        }\r\n    }\r\n    chatButtonAlias(btn: Button) {\r\n        return btn.ButtonName || btn.ButtonText || btn.ButtonType;\r\n    }\r\n\r\n    editorTypeFromSectionType(secType: SectionType): EditorType {\r\n        switch (secType) {\r\n            case SectionType.Text:\r\n                return EditorType.Text;\r\n            case SectionType.Image:\r\n            case SectionType.Audio:\r\n            case SectionType.Video:\r\n            case SectionType.Gif:\r\n            case SectionType.PrintOTP:\r\n            case SectionType.EmbeddedHtml:\r\n                return EditorType.TitleCaptionUrl;\r\n            case SectionType.Carousel:\r\n                return EditorType.Carousel;\r\n            default:\r\n                return EditorType.Text;\r\n        }\r\n    }\r\n}\r\n\r\n///////////////////////////////////////////////////////////////////////\r\n@Injectable()\r\nexport class SimulatorFromStudio {\r\n\r\n    private debug: boolean = true;\r\n    private chatFlow: ChatNode[] = [];\r\n    private state: SimulatorState;\r\n    private simulatorFrame: SimulatorFrameComponent;\r\n    //private sample: SampleService\r\n    public simulatorBusinessId = 'ana-studio';\r\n    public simulatorCustomerId = 'ana-simulator';\r\n\r\n    constructor(private globals: UtilitiesService, private http: Http) {\r\n        // window.onmessage = (event) => {\r\n        //     this.logDebug('On message received from client:');\r\n        //     this.logDebug(event.data);\r\n        //     let msg = event.data as SimulatorMessage;\r\n        //     if (msg.type == SimulatorMessageType.AnaChatMessage) {\r\n        //         let cfMsg = (msg as AnaChatSimulatorMessage);\r\n        //         this.handleIncomingMessage(cfMsg.data);\r\n        //     }\r\n        // }\r\n    }\r\n\r\n    onMessage(event) {\r\n        this.logDebug('On message received from client:');\r\n        this.logDebug(event.data);\r\n        let msg = event as SimulatorMessage;\r\n        //debugger\r\n        if (msg.type == SimulatorMessageType.AnaChatMessage) {\r\n            let cfMsg = (msg as AnaChatSimulatorMessage);\r\n\r\n            this.handleIncomingMessage(cfMsg.data);\r\n        }\r\n    }\r\n\r\n    public getJSON(url) {\r\n        return this.http.get(url).map(res=>res.json());\r\n    }\r\n\r\n    init(url: string) {\r\n        let chatdata: {\r\n             ChatNodes;\r\n        };\r\n\r\n        this.getJSON(url).subscribe(resData => {\r\n            chatdata = resData;\r\n            //debugger\r\n            this.chatFlow = chatdata.ChatNodes;\r\n            //this.chatFlow = []            \r\n            //console.log(\"chat nodes\" + JSON.stringify(this.chatFlow))\r\n            if (this.chatFlow && this.chatFlow.length > 0) {\r\n                this.state = {\r\n                    variables: {}\r\n                };\r\n                this.pushResetToClient();\r\n                let firstMsg: any = {\r\n                    \"meta\": {\r\n                        \"sender\": {\r\n                            \"id\": this.simulatorBusinessId,\r\n                            \"medium\": 100\r\n                        },\r\n                        \"recipient\": {\r\n                            \"id\": this.simulatorCustomerId,\r\n                            \"medium\": 100\r\n                        },\r\n                        \"senderType\": SenderType.USER,\r\n                        \"timestamp\": new Date().getTime(),\r\n                    },\r\n                    \"data\": {\r\n                        \"type\": 2,\r\n                        \"content\": {\r\n                            \"inputType\": InputType.OPTIONS,\r\n                            \"mandatory\": 1,\r\n                            \"options\": [\r\n                                {\r\n                                    \"title\": \"Get Started\",\r\n                                    \"value\": \"GetStarted\"\r\n                                }\r\n                            ],\r\n                            \"input\": {\r\n                                \"val\": \"GET_STARTED\"\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n                this.handleIncomingMessage(firstMsg);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    handleIncomingMessage(message: IANAChatMessage) {\r\n        this.logDebug(\"Incoming message from client: \");\r\n        this.logDebug(message);\r\n        this.processIncomingMessage(message);\r\n    }\r\n\r\n    pushMessageToClient(message: IANAChatMessage) {\r\n        let resp: AnaChatSimulatorMessage = {\r\n            data: message,\r\n            type: SimulatorMessageType.AnaChatMessage\r\n        };\r\n        SampleService.onMessage(resp)\r\n\r\n    }\r\n\r\n    pushResetToClient() {\r\n        //console.log(\"simulator msg type\" + SimulatorMessageType.AnaChatReset)\r\n        SampleService.onMessage({\r\n            type: SimulatorMessageType.AnaChatReset\r\n        })\r\n\r\n    }\r\n\r\n    private processIncomingMessage(chatMsg: IANAChatMessage) {\r\n        let message = chatMsg.data;\r\n        if (message.type == MessageType.INPUT) {\r\n            let ipMsgContent = message.content as InputContent;\r\n            if (ipMsgContent.input && Object.keys(ipMsgContent.input).length > 0) {\r\n                let nextNodeId = \"\";\r\n                let userData: any = null;\r\n                switch (ipMsgContent.inputType) {\r\n                    case InputType.LOCATION://Click, Complex\r\n                        {\r\n                            let locIp = ipMsgContent.input as LocationInput;\r\n                            userData = UtilitiesService.anaLocationDisplay(locIp.location);\r\n                            let clickedBtn = this.getNodeButtonByType(ButtonType.GetLocation);\r\n                            if (clickedBtn)\r\n                                nextNodeId = clickedBtn.NextNodeId;\r\n                        }\r\n                        break;\r\n                    case InputType.DATE://Click, Complex\r\n                        {\r\n                            let ip = ipMsgContent.input as DateInput;\r\n                            userData = UtilitiesService.anaDateDisplay(ip.date);\r\n                            let clickedBtn = this.getNodeButtonByType(ButtonType.GetDate);\r\n                            if (clickedBtn)\r\n                                nextNodeId = clickedBtn.NextNodeId;\r\n                        }\r\n                        break;\r\n                    case InputType.TIME://Click, Complex\r\n                        {\r\n                            let ip = ipMsgContent.input as TimeInput;\r\n                            userData = UtilitiesService.anaTimeDisplay(ip.time);\r\n                            let clickedBtn = this.getNodeButtonByType(ButtonType.GetTime);\r\n                            if (clickedBtn)\r\n                                nextNodeId = clickedBtn.NextNodeId;\r\n                        }\r\n                        break;\r\n                    case InputType.ADDRESS://Click, Complex\r\n                        {\r\n                            let ip = ipMsgContent.input as AddressInputField;\r\n                            userData = UtilitiesService.anaAddressDisplay(ip.address);\r\n                            let clickedBtn = this.getNodeButtonByType(ButtonType.GetAddress);\r\n                            if (clickedBtn)\r\n                                nextNodeId = clickedBtn.NextNodeId;\r\n                        }\r\n                        break;\r\n                    case InputType.MEDIA: //Click, Non Complex\r\n                        {\r\n                            let ip = ipMsgContent.input as MediaInput;\r\n                            if (ip.media && ip.media.length > 0 && ip.media[0]) {\r\n\r\n                                if (typeof ip.media[0].url == 'object')\r\n                                    userData = (<any>ip.media[0].url).changingThisBreaksApplicationSecurity;\r\n                                else\r\n                                    userData = ip.media[0].url;\r\n                                let cfmType = ButtonType.GetFile;\r\n                                switch (ip.media[0].type) {\r\n                                    case MediaType.AUDIO:\r\n                                        cfmType = ButtonType.GetAudio;\r\n                                        break;\r\n                                    case MediaType.VIDEO:\r\n                                        cfmType = ButtonType.GetVideo;\r\n                                        break;\r\n                                    case MediaType.IMAGE:\r\n                                        cfmType = ButtonType.GetImage;\r\n                                        break;\r\n                                    case MediaType.FILE:\r\n                                    default:\r\n                                        cfmType = ButtonType.GetFile;\r\n                                        break;\r\n                                }\r\n                                let clickedBtn = this.getNodeButtonByType(cfmType);\r\n                                if (clickedBtn)\r\n                                    nextNodeId = clickedBtn.NextNodeId;\r\n                            }\r\n                        }\r\n                        break;\r\n                    case InputType.OPTIONS: //Click, Non Complex\r\n                        {\r\n                            let ip = ipMsgContent.input as TextInput; //Option also has input.val\r\n                            // console.log(JSON.stringify(ip)+\"////////\")\r\n                            if (ip.val == \"GET_STARTED\") {\r\n                                let firstNode = _.first(this.chatFlow.filter(x => {if(x.IsStartNode==true)return x;}));\r\n                                nextNodeId = (firstNode ? firstNode.Id : this.chatFlow[0].Id);\r\n                                // console.log(nextNodeId+\"////////////////\")\r\n                            } else {\r\n                                let clickedBtn = this.getNodeButtonById(ip.val);\r\n                                if (clickedBtn) {\r\n                                    nextNodeId = clickedBtn.NextNodeId;\r\n                                    userData = clickedBtn.VariableValue;\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    case InputType.LIST://Click, Complex\r\n                        {\r\n                            let ipMsg = ipMsgContent as ListInputContent;\r\n                            let ip = ipMsg.input;\r\n                            let listSelectedValues = ip.val.split(',');\r\n                            let listSelectedItems = ipMsg.values.filter(x => listSelectedValues.indexOf(x.value) != -1);\r\n                            userData = ip.val;//listSelectedItems.map(x => x.text);\r\n                            let clickedBtn = this.getNodeButtonByType(ButtonType.GetItemFromSource);\r\n                            if (clickedBtn)\r\n                                nextNodeId = clickedBtn.NextNodeId;\r\n                        }\r\n                        break;\r\n                    case InputType.PHONE:\r\n                        {\r\n                            let ip = ipMsgContent.input as TextInput;\r\n                            userData = ip.val;\r\n                            let clickedBtn = this.getNodeButtonByType(ButtonType.GetPhoneNumber);\r\n                            if (clickedBtn)\r\n                                nextNodeId = clickedBtn.NextNodeId;\r\n                        }\r\n                        break;\r\n                    case InputType.EMAIL:\r\n                        {\r\n                            let ip = ipMsgContent.input as TextInput;\r\n                            userData = ip.val;\r\n                            let clickedBtn = this.getNodeButtonByType(ButtonType.GetEmail);\r\n                            if (clickedBtn)\r\n                                nextNodeId = clickedBtn.NextNodeId;\r\n                        }\r\n                        break;\r\n                    case InputType.NUMERIC:\r\n                        {\r\n                            let ip = ipMsgContent.input as TextInput;\r\n                            userData = ip.val;\r\n                            let clickedBtn = this.getNodeButtonByType(ButtonType.GetNumber);\r\n                            if (clickedBtn)\r\n                                nextNodeId = clickedBtn.NextNodeId;\r\n                        }\r\n                        break;\r\n                    case InputType.TEXT:\r\n                        {\r\n                            let ip = ipMsgContent.input as TextInput;\r\n                            userData = ip.val;\r\n                            let clickedBtn = this.getNodeButtonByType(ButtonType.GetText);\r\n                            if (clickedBtn)\r\n                                nextNodeId = clickedBtn.NextNodeId;\r\n                        }\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n                //console.log(\"next node\" + nextNodeId)\r\n                this.saveVariable(userData);\r\n                this.gotoNextNode(nextNodeId);\r\n            }\r\n        } else if (message.type == MessageType.CAROUSEL) {\r\n            let msgContent = message.content as CarouselContent;\r\n            if (msgContent.input && Object.keys(msgContent.input).indexOf('val') != -1 && msgContent.input.val) {\r\n                let clickedCarBtn = this.getCarouselButtonById(msgContent.input.val);\r\n                this.saveVariable(clickedCarBtn.VariableValue);\r\n                switch (clickedCarBtn.Type) {\r\n                    case CarouselButtonType.DeepLink:\r\n                    case CarouselButtonType.OpenUrl:\r\n                    case CarouselButtonType.NextNode:\r\n                    default:\r\n                        this.gotoNextNode(clickedCarBtn.NextNodeId);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private gotoNextNode(nextNodeId: string) {\r\n        let nextNode = this.getNodeById(nextNodeId);\r\n        if (nextNode)\r\n            this.processNode(nextNode);\r\n    }\r\n\r\n    private getNodeById(Id: string) {\r\n        if (Id) {\r\n            let foundNodes = this.chatFlow.filter(n => n.Id == Id);\r\n            if (foundNodes && foundNodes.length > 0)\r\n                return foundNodes[0];\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private getNodeButtonById(buttonId: string) {\r\n        let btn = this.state.currentNode.Buttons.filter(x => x._id == buttonId);\r\n        return (btn && btn.length > 0) ? btn[0] : null;\r\n    }\r\n\r\n    private getNodeButtonByType(type: ButtonType) {\r\n        let btn = this.state.currentNode.Buttons.filter(x => x.ButtonType == type);\r\n        let firstTry = (btn && btn.length > 0) ? btn[0] : null;\r\n        if (firstTry) return firstTry;\r\n\r\n        if (type == ButtonType.GetText) {\r\n            let found = _.first(_.filter(this.state.currentNode.Buttons, x => _.contains([\r\n                ButtonType.GetPhoneNumber,\r\n                ButtonType.GetEmail,\r\n                ButtonType.GetNumber\r\n            ], x.ButtonType)));\r\n            if (found) return found;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private getCarouselButtonById(carItemBtnId: string) {\r\n        let carSection = this.state.currentSection as CarouselSection;\r\n        if (carSection && carSection.SectionType == SectionType.Carousel) {\r\n            let carBtn = carSection.Items.map(x => x.Buttons).reduce((a, b) => (a && a.length > 0 && b && b.length > 0) ? a.concat(b) : []).filter(x => x._id == carItemBtnId);\r\n            return (carBtn && carBtn.length > 0) ? carBtn[0] : null;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private saveVariable(value: string) {\r\n        if (value && this.state.currentNode && this.state.currentNode.VariableName)\r\n            this.state.variables[this.state.currentNode.VariableName] = value;\r\n    }\r\n\r\n    private logDebug(msg: any) {\r\n        if (this.debug)\r\n            console.log(msg);\r\n    }\r\n\r\n    private processVerbsForChatNode(chatNode: ChatNode): ChatNode {\r\n        return JSON.parse(this.processVerbs(JSON.stringify(chatNode))) as ChatNode;\r\n    }\r\n\r\n    private replaceTxt(subStr, key) {\r\n        if (!key)\r\n            key = subStr.replace('{{', '').replace('}}', '');\r\n\r\n        try {\r\n            if (this.state.variables && this.state.variables[key])\r\n                return this.state.variables[key];\r\n            else {\r\n                let rootToken = key.split(/\\.|\\[/)[0];\r\n                let wrappedResp = {};\r\n                wrappedResp[rootToken] = JSON.parse(this.state.variables[rootToken]);\r\n                let deepValue: any = jsonpath.query(wrappedResp, key);\r\n                if (deepValue && typeof deepValue == 'object' && deepValue.length == 1) {\r\n                    deepValue = deepValue[0];\r\n                }\r\n                return deepValue;\r\n            }\r\n        } catch (e) {\r\n            return subStr;\r\n        }\r\n    }\r\n\r\n    private jsonEscape(value: any) {\r\n        if (value && (typeof value == \"string\") && value.replace) {\r\n            let rTxt = value\r\n                .replace(/\\n/g, \"\\\\n\")\r\n                //.replace(/\\'/g, \"\\\\'\")\r\n                .replace(/\\\"/g, '\\\\\"')\r\n                .replace(/\\&/g, \"\\\\&\")\r\n                .replace(/\\r/g, \"\\\\r\")\r\n                .replace(/\\t/g, \"\\\\t\")\r\n                .replace(/\\f/g, \"\\\\f\");\r\n            return rTxt;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    private processVerbs(txt: string): string {\r\n        let processedText = txt.replace(/\\[~(.*?)\\]|{{(.*?)}}/g, (subStr, key) => {\r\n            return this.jsonEscape(this.replaceTxt(subStr, key));\r\n        });\r\n        return processedText;\r\n    }\r\n\r\n    private processNode(chatNode: ChatNode, section?: Section) {\r\n\r\n        chatNode = this.processVerbsForChatNode(chatNode);\r\n        this.state.currentNode = chatNode;\r\n        this.state.currentSection = section || _.first(chatNode.Sections);\r\n\r\n        switch (chatNode.NodeType) {\r\n            case NodeType.ApiCall:\r\n                {\r\n                    let apiHeaders = new Headers();\r\n\r\n                    if (chatNode.Headers) {\r\n                        let splits = chatNode.Headers.split(/\\n|,/);\r\n                        for (var si = 0; si < splits.length; si++) {\r\n                            try {\r\n                                let split = splits[si];\r\n                                if (split.indexOf(':') != -1) {\r\n                                    let key = split.split(':')[0];\r\n                                    let value = split.split(':')[1];\r\n                                    apiHeaders.set(key, value);\r\n                                }\r\n                            } catch (e) {\r\n                                this.logDebug('Invalid format provided in headers');\r\n                                this.logDebug(e);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    let reqBody: string = null;\r\n                    if (chatNode.RequestBody)\r\n                        reqBody = this.processVerbs(chatNode.RequestBody);\r\n\r\n                    let reqParams = new URLSearchParams();\r\n                    if (chatNode.RequiredVariables) {\r\n                        for (var i = 0; i < chatNode.RequiredVariables.length; i++) {\r\n                            if (chatNode.RequiredVariables[i] && Object.keys(this.state.variables).indexOf(chatNode.RequiredVariables[i]) != -1)\r\n                                reqParams.append(chatNode.RequiredVariables[i], this.state.variables[chatNode.RequiredVariables[i]]);\r\n                        }\r\n                    }\r\n\r\n                    let nextNodeId = chatNode.NextNodeId;\r\n                    this.http.request(chatNode.ApiUrl, {\r\n                        headers: apiHeaders,\r\n                        body: reqBody,\r\n                        method: APIMethod[chatNode.ApiMethod],\r\n                        params: reqParams,\r\n                    }).subscribe(res => {\r\n                        this.saveVariable(res.text());\r\n                        this.processConditionNode(chatNode);\r\n                    }, err => {\r\n                        if (Math.trunc(err.status / 100) == 5 || typeof err._body == 'object') { //Only 5xx errors are counted as errors\r\n                            this.logDebug(err);\r\n                            this.gotoNextNode(nextNodeId); //Fallback node\r\n                        } else {\r\n                            this.saveVariable(err._body);\r\n                            this.processConditionNode(chatNode);\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case NodeType.Card:\r\n                break;\r\n            case NodeType.Condition:\r\n                this.processConditionNode(chatNode);\r\n                break;\r\n\r\n            case NodeType.Combination:\r\n            default:\r\n                {\r\n                    if (chatNode.Sections && chatNode.Sections.length > 0) {\r\n                        let msg = this.convertSection(this.state.currentSection);\r\n                        this.prepareReplyAndSend(msg);\r\n                        let sectionIndex = chatNode.Sections.findIndex(x => x._id == this.state.currentSection._id);\r\n                        let remainingSections = chatNode.Sections.length - (sectionIndex + 1);\r\n                        if (remainingSections > 0) {\r\n                            this.processNode(chatNode, chatNode.Sections[sectionIndex + 1]);\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n                    if (this.state.currentNode && this.state.currentNode.Buttons && this.state.currentNode.Buttons.length > 0) {\r\n                        this.convertButtons(this.state.currentNode, (inputMsgToSend) => {\r\n                            this.prepareReplyAndSend(inputMsgToSend);\r\n                        });\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    private prepareReplyAndSend(data: ANAMessageData) {\r\n        let meta: ANAMeta = {\r\n            id: UtilitiesService.uuidv4(),\r\n            recipient: {\r\n                id: this.simulatorBusinessId,\r\n                medium: 100\r\n            },\r\n            sender: {\r\n                id: this.simulatorCustomerId,\r\n                medium: 100\r\n            },\r\n            senderType: SenderType.ANA,\r\n            sessionId: '1234',\r\n            timestamp: new Date().getTime(),\r\n            responseTo: '',\r\n        };\r\n        this.pushMessageToClient({\r\n            meta: meta,\r\n            data: data,\r\n\r\n        });\r\n    }\r\n\r\n    private convertSection(section: Section): ANAMessageData {\r\n        let anaMessageContent: SimpleContent = {\r\n            text: ''\r\n        };\r\n        let anaMessageData: ANAMessageData = {\r\n            content: anaMessageContent,\r\n            type: MessageType.SIMPLE\r\n        };\r\n        switch (section.SectionType) {\r\n            case SectionType.Image:\r\n                anaMessageContent.media = {\r\n                    type: MediaType.IMAGE,\r\n                    url: (section as ImageSection).Url,\r\n                }\r\n                anaMessageContent.text = (section as ImageSection).Title;\r\n                break;\r\n            case SectionType.Text:\r\n            default:\r\n                anaMessageContent.text = (section as TextSection).Text;\r\n                break;\r\n            case SectionType.Gif:\r\n                anaMessageContent.media = {\r\n                    type: MediaType.IMAGE,\r\n                    url: (section as ImageSection).Url,\r\n                }\r\n                anaMessageContent.text = (section as ImageSection).Title;\r\n                break;\r\n            case SectionType.Audio:\r\n                anaMessageContent.media = {\r\n                    type: MediaType.AUDIO,\r\n                    url: (section as AudioSection).Url,\r\n                }\r\n                anaMessageContent.text = (section as AudioSection).Title;\r\n                break;\r\n            case SectionType.Video:\r\n                anaMessageContent.media = {\r\n                    type: MediaType.VIDEO,\r\n                    url: (section as VideoSection).Url,\r\n                }\r\n                anaMessageContent.text = (section as VideoSection).Title;\r\n                break;\r\n            case SectionType.Carousel:\r\n                {\r\n                    let carContent: CarouselContent = {\r\n                        items: _.map((section as CarouselSection).Items, x => {\r\n                            return {\r\n                                title: x.Title,\r\n                                desc: x.Caption,\r\n                                media: {\r\n                                    type: MediaType.IMAGE,\r\n                                    url: x.ImageUrl\r\n                                },\r\n                                options: _.map(x.Buttons, y => {\r\n                                    if (y.Type == CarouselButtonType.NextNode) {\r\n                                        return {\r\n                                            title: y.Text,\r\n                                            value: y._id,\r\n                                            type: this.convertCarouselButtonType(y.Type)\r\n                                        };\r\n                                    } else {\r\n                                        return {\r\n                                            title: y.Text,\r\n                                            value: JSON.stringify({\r\n                                                url: y.Url,\r\n                                                value: y._id\r\n                                            }),\r\n                                            type: this.convertCarouselButtonType(y.Type)\r\n                                        };\r\n                                    }\r\n                                }),\r\n                                url: ''\r\n                            };\r\n                        }),\r\n                        mandatory: 1\r\n                    };\r\n                    anaMessageData = {\r\n                        type: MessageType.CAROUSEL,\r\n                        content: carContent\r\n                    };\r\n                }\r\n                break;\r\n        }\r\n        return anaMessageData;\r\n    }\r\n\r\n    private convertButtons(chatNode: ChatNode, callback: (resp: ANAMessageData) => void): void {\r\n\r\n        let clickInputs = _.filter(chatNode.Buttons, x => _.contains([\r\n            ButtonType.DeepLink,\r\n            ButtonType.OpenUrl,\r\n            ButtonType.GetDate,\r\n            ButtonType.GetImage,\r\n            ButtonType.GetVideo,\r\n            ButtonType.GetAddress,\r\n            ButtonType.GetAudio,\r\n            ButtonType.GetDateTime,\r\n            ButtonType.GetTime,\r\n            ButtonType.GetItemFromSource,\r\n            ButtonType.GetFile,\r\n            ButtonType.GetLocation,\r\n            ButtonType.FetchChatFlow,\r\n            ButtonType.ShowConfirmation,\r\n            ButtonType.NextNode,\r\n        ], x.ButtonType));\r\n\r\n        let textInputs = _.filter(chatNode.Buttons, x => _.contains([\r\n            ButtonType.GetText,\r\n            ButtonType.GetEmail,\r\n            ButtonType.GetPhoneNumber,\r\n            ButtonType.GetNumber,\r\n        ], x.ButtonType));\r\n\r\n        let mandatory = 1;\r\n        if (textInputs && textInputs.length > 0 && clickInputs && clickInputs.length > 0)\r\n            mandatory = 0;\r\n\r\n        if (clickInputs && clickInputs.length > 0) {\r\n            if (_.filter(clickInputs, x => _.contains([ButtonType.NextNode, ButtonType.OpenUrl], x.ButtonType)).length > 0) { //If next node/open url button is present, only options can be sent\r\n                //Build options input and send\r\n                let optionsInput: OptionsInputContent = {\r\n                    inputType: InputType.OPTIONS,\r\n                    mandatory: mandatory,\r\n                    options: _.map(_.filter(clickInputs, x => _.contains([ButtonType.NextNode, ButtonType.OpenUrl], x.ButtonType)), y => {\r\n                        return {\r\n                            title: y.ButtonName || y.ButtonText,\r\n                            value: (y.ButtonType == ButtonType.OpenUrl ? JSON.stringify({ url: y.Url, value: y._id }) : y._id),\r\n                            type: this.convertButtonType(y.ButtonType)\r\n                        }\r\n                    })\r\n                };\r\n                return callback({\r\n                    content: optionsInput,\r\n                    type: MessageType.INPUT\r\n                });\r\n            }\r\n\r\n            let inputButton = _.first(clickInputs);\r\n            switch (inputButton.ButtonType) {\r\n                case ButtonType.GetDate:\r\n                    return callback({\r\n                        content: <DateInputContent>{\r\n                            mandatory: mandatory,\r\n                            inputType: InputType.DATE,\r\n                        },\r\n                        type: MessageType.INPUT\r\n                    });\r\n                case ButtonType.GetTime:\r\n                    return callback({\r\n                        content: <DateInputContent>{\r\n                            mandatory: mandatory,\r\n                            inputType: InputType.TIME,\r\n                        },\r\n                        type: MessageType.INPUT\r\n                    });\r\n                case ButtonType.GetVideo:\r\n                    return callback({\r\n                        content: <MediaInputContent>{\r\n                            mandatory: mandatory,\r\n                            inputType: InputType.MEDIA,\r\n                            mediaType: MediaType.VIDEO\r\n                        },\r\n                        type: MessageType.INPUT\r\n                    });\r\n                case ButtonType.GetImage:\r\n                    return callback({\r\n                        content: <MediaInputContent>{\r\n                            mandatory: mandatory,\r\n                            inputType: InputType.MEDIA,\r\n                            mediaType: MediaType.IMAGE\r\n                        },\r\n                        type: MessageType.INPUT\r\n                    });\r\n                case ButtonType.GetAddress:\r\n                    return callback({\r\n                        content: <AddressInputContent>{\r\n                            mandatory: mandatory,\r\n                            inputType: InputType.ADDRESS,\r\n                            requiredFields: [\r\n                                \"area\",\r\n                                \"country\",\r\n                                \"pin\",\r\n                                \"city\",\r\n                                \"state\",\r\n                                \"line1\"\r\n                            ]\r\n                        },\r\n                        type: MessageType.INPUT\r\n                    });\r\n                case ButtonType.GetAudio:\r\n                    return callback({\r\n                        content: <MediaInputContent>{\r\n                            mandatory: mandatory,\r\n                            inputType: InputType.MEDIA,\r\n                            mediaType: MediaType.AUDIO\r\n                        },\r\n                        type: MessageType.INPUT\r\n                    });\r\n                case ButtonType.GetItemFromSource:\r\n                    {\r\n                        if (inputButton.ItemsSource) {\r\n                            let msg: ListInputContent = {\r\n                                inputType: InputType.LIST,\r\n                                multiple: inputButton.AllowMultiple,\r\n                                mandatory: mandatory,\r\n                                values: []\r\n                            };\r\n                            let itemSrc = inputButton.ItemsSource.split(',').map(x => {\r\n                                let y = x.trim().split(':');\r\n                                return { K: y[0], V: y[1] }\r\n                            });\r\n                            itemSrc.forEach(x => msg.values.push({\r\n                                text: x.K,\r\n                                value: x.V,\r\n                                // isSelected:true\r\n                            }));\r\n                            return callback({\r\n                                content: msg,\r\n                                type: MessageType.INPUT\r\n                            });\r\n                        }\r\n                        if (inputButton.Url) {\r\n                            this.http.get(inputButton.Url).subscribe(x => {\r\n                                // let items = x.json() as {\r\n                                //     [key: string]: string;\r\n                                // };\r\n                                let items = x.json() as ListItem[]\r\n                                let itemKeys = Object.keys(items);\r\n\r\n                                let msg: ListInputContent = {\r\n                                    inputType: InputType.LIST,\r\n                                    multiple: inputButton.AllowMultiple,\r\n                                    mandatory: mandatory,\r\n                                    values: itemKeys.map(key => {\r\n                                        return {\r\n                                            text: key,\r\n                                            value: items[key]\r\n                                        };\r\n                                    })\r\n                                };\r\n\r\n                                return callback({\r\n                                    content: msg,\r\n                                    type: MessageType.INPUT\r\n                                });\r\n                            });\r\n                            return;\r\n                        }\r\n                    }\r\n                case ButtonType.GetFile:\r\n                    return callback({\r\n                        content: <MediaInputContent>{\r\n                            mandatory: mandatory,\r\n                            inputType: InputType.MEDIA,\r\n                            mediaType: MediaType.FILE\r\n                        },\r\n                        type: MessageType.INPUT\r\n                    });\r\n                case ButtonType.GetLocation:\r\n                    return callback({\r\n                        content: <LocationInputContent>{\r\n                            mandatory: mandatory,\r\n                            inputType: InputType.LOCATION,\r\n                        },\r\n                        type: MessageType.INPUT\r\n                    });\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        if (textInputs && textInputs.length > 0) {\r\n            let textInput = textInputs[0];\r\n            let inputMsg: TextInputContent = {\r\n                inputType: this.convertButtonTypeToInputType(textInput.ButtonType),\r\n                mandatory: mandatory,\r\n                textInputAttr: {\r\n                    defaultText: textInput.DefaultText,\r\n                    maxLength: textInput.MaxLength,\r\n                    minLength: textInput.MinLength,\r\n                    multiLine: textInput.IsMultiLine ? 1 : 0,\r\n                    placeHolder: textInput.PlaceholderText\r\n                }\r\n            }\r\n            return callback({\r\n                content: inputMsg,\r\n                type: MessageType.INPUT\r\n            });\r\n        }\r\n    }\r\n\r\n    private convertButtonTypeToInputType(srcType: ButtonType): InputType {\r\n        switch (srcType) {\r\n            default:\r\n            case ButtonType.GetText:\r\n                return InputType.TEXT;\r\n            case ButtonType.GetEmail:\r\n                return InputType.EMAIL;\r\n            case ButtonType.GetNumber:\r\n                return InputType.NUMERIC;\r\n            case ButtonType.GetPhoneNumber:\r\n                return InputType.PHONE;\r\n        }\r\n    }\r\n\r\n    private convertCarouselButtonType(srcType: CarouselButtonType): ButtonType {\r\n        switch (srcType) {\r\n            case CarouselButtonType.DeepLink:\r\n            case CarouselButtonType.OpenUrl:\r\n                return ButtonType.URL;\r\n            case CarouselButtonType.NextNode:\r\n            default:\r\n                return ButtonType.ACTION;\r\n        }\r\n    }\r\n\r\n    private convertButtonType(srcType: ButtonType): ButtonType {\r\n        switch (srcType) {\r\n            case ButtonType.DeepLink:\r\n            case ButtonType.OpenUrl:\r\n                return ButtonType.URL;\r\n            case ButtonType.NextNode:\r\n            default:\r\n                return ButtonType.ACTION;\r\n        }\r\n    }\r\n\r\n    private processConditionNode(chatNode: ChatNode) {\r\n        let done = false;\r\n        try {\r\n            if (chatNode.Buttons) {\r\n                for (var btnIdx = 0; btnIdx < chatNode.Buttons.length; btnIdx++) {\r\n                    let btn = chatNode.Buttons[btnIdx];\r\n                    let rootToken = btn.ConditionMatchKey.split(/\\.|\\[/)[0];\r\n                    let wrappedResp = {};\r\n                    wrappedResp[rootToken] = JSON.parse(this.state.variables[rootToken]);\r\n                    let deepValue: any = jsonpath.query(wrappedResp, btn.ConditionMatchKey);\r\n                    if (deepValue && typeof deepValue == 'object' && deepValue.length == 1) {\r\n                        deepValue = deepValue[0];\r\n                    }\r\n                    if (this.match(deepValue, btn.ConditionOperator, btn.ConditionMatchValue)) {\r\n                        this.saveVariable(btn.VariableValue);\r\n                        this.gotoNextNode(btn.NextNodeId);\r\n                        done = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        } catch (e) {\r\n            if (chatNode.Buttons) {\r\n                for (var btnIdx = 0; btnIdx < chatNode.Buttons.length; btnIdx++) {\r\n                    let btn = chatNode.Buttons[btnIdx];\r\n                    let leftOperand = this.state.variables[btn.ConditionMatchKey];\r\n                    if (this.match(leftOperand, btn.ConditionOperator, btn.ConditionMatchValue)) {\r\n                        this.saveVariable(btn.VariableValue);\r\n                        this.gotoNextNode(btn.NextNodeId);\r\n                        done = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (!done)\r\n            this.gotoNextNode(chatNode.NextNodeId); //Fallback node id\r\n    }\r\n\r\n    private match(left: any, op: ConditionOperator, right: any) {\r\n        try {\r\n            switch (op) {\r\n                case ConditionOperator.Between:\r\n                    {\r\n                        let r1 = right.split(',')[0];\r\n                        let r2 = right.split(',')[1];\r\n\r\n                        return (r1 < left && left < r2);\r\n                    }\r\n                case ConditionOperator.NotEqualTo:\r\n                    return left != right;\r\n                case ConditionOperator.GreaterThan:\r\n                    return left > right;\r\n                case ConditionOperator.LessThan:\r\n                    return left < right;\r\n                case ConditionOperator.GreaterThanOrEqualTo:\r\n                    return left >= right;\r\n                case ConditionOperator.LessThanOrEqualTo:\r\n                    return left <= right;\r\n                case ConditionOperator.In:\r\n                    return right.split(',').indexOf(left) != -1;\r\n                case ConditionOperator.NotIn:\r\n                    return right.split(',').indexOf(left) == -1;\r\n                case ConditionOperator.StartsWith:\r\n                    return left.startsWith(right);\r\n                case ConditionOperator.EndsWith:\r\n                    return left.endsWith(right);\r\n                case ConditionOperator.Contains:\r\n                    return left.indexOf(right) != -1;\r\n                case ConditionOperator.IsNull:\r\n                    return (left == null || left == undefined);\r\n                case ConditionOperator.EqualTo:\r\n                default:\r\n                    return left == right;\r\n            }\r\n        } catch (e) {\r\n            console.log('Invalid operation or operands')\r\n            //this.infoDialog.alert('Invalid operation or operands', e);\r\n        }\r\n    }\r\n}\r\n\r\nexport interface SimulatorState {\r\n    currentNode?: ChatNode;\r\n    currentSection?: Section;\r\n    variables?: {\r\n        [key: string]: string\r\n    }\r\n}\r\n\r\nexport enum SimulatorMessageType {\r\n    AnaChatMessage = 'AnaChatMessage', AnaChatReset = 'AnaChatReset'\r\n}\r\nexport interface SimulatorMessage {\r\n    type: SimulatorMessageType;\r\n    data: any;\r\n}\r\n\r\nexport interface AnaChatSimulatorMessage extends SimulatorMessage {\r\n    data: IANAChatMessage;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/plugin.service.ts","import { Injectable } from '@angular/core';\r\nimport * as models from '../models/ana-chat.models';\r\nimport * as vm from '../models/ana-chat-vm.models';\r\nimport * as jsonpath from 'jsonpath';\r\nimport { SimulatorFromStudio } from \"./plugin.service\";\r\nimport { Http, Headers, URLSearchParams } from '@angular/http';\r\nimport { UtilitiesService } from '../services/utilities.service';\r\nimport { IANAChatMessage } from '../models/ana-chat.models';\r\n\r\n\r\n@Injectable()\r\nexport class SampleService {\r\n\r\n    private debug: boolean = true;\r\n\r\n    constructor() {\r\n\r\n    }\r\n    static onMessage(event) {\r\n        //this.logDebug('On message received from studio:');\r\n        //this.logDebug(event.data);\r\n        //console.log(\"events\" + JSON.stringify(event))\r\n        let msg = event as SimulatorMessage;\r\n        if (msg.type == SimulatorMessageType.AnaChatMessage) {\r\n            let cfMsg = (msg as AnaChatSimulatorMessage);\r\n           // console.log(\"cfMsg\" + cfMsg)\r\n            //console.log(\"handle message received\" + this.handleMessageReceived)\r\n            if (this.handleMessageReceived) {\r\n                this.handleMessageReceived(new models.ANAChatMessage(cfMsg.data));\r\n\r\n            }\r\n\r\n        } else if (msg.type == SimulatorMessageType.AnaChatReset) {\r\n            if (this.handleResetSignal)\r\n                this.handleResetSignal();\r\n        }\r\n    }\r\n\r\n\r\n    static handleMessageReceived: (message: models.ANAChatMessage) => any;\r\n    static handleResetSignal: () => void;\r\n\r\n}\r\n\r\nexport enum SimulatorMessageType {\r\n    AnaChatMessage = 'AnaChatMessage', AnaChatReset = 'AnaChatReset'\r\n}\r\nexport interface SimulatorMessage {\r\n    type: SimulatorMessageType;\r\n    data: any;\r\n}\r\n\r\nexport interface AnaChatSimulatorMessage extends SimulatorMessage {\r\n    data: IANAChatMessage;\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/resolver.service.ts","import { Injectable } from '@angular/core';\nimport * as models from '../models/ana-chat.models';\nimport * as vm from '../models/ana-chat-vm.models';\nimport * as jsonpath from 'jsonpath';\nimport { SimulatorFromStudio } from \"./plugin.service\";\nimport { Http, Headers, URLSearchParams } from '@angular/http';\nimport { UtilitiesService } from '../services/utilities.service';\n\n@Injectable()\nexport class SimulatorService {\n\n\tprivate debug: boolean = true;\n\n\tconstructor(private http: Http, private utils: UtilitiesService, private simulator: SimulatorFromStudio) {\n\t\t// window.onmessage = (event) => {\n\t\t// \tthis.logDebug('On message received from studio:');\n\t\t// \tthis.logDebug(event.data);\n\t\t// \tlet msg = event.data as SimulatorMessage;\n\t\t// \tif (msg.type == SimulatorMessageType.AnaChatMessage) {\n\t\t// \t\tlet cfMsg = (msg as AnaChatSimulatorMessage);\n\t\t// \t\tif (this.handleMessageReceived)\n\t\t// \t\t\tthis.handleMessageReceived(new models.ANAChatMessage(cfMsg.data));\n\t\t// \t} else if (msg.type == SimulatorMessageType.AnaChatReset) {\n\t\t// \t\tif (this.handleResetSignal)\n\t\t// \t\t\tthis.handleResetSignal();\n\t\t// \t}\n\t\t// }\n\t}\n\n\tonMessage(event) {\n\t\tthis.logDebug('On message received from studio:');\n\t\tthis.logDebug(event.data);\n\t\tlet msg = event.data as SimulatorMessage;\n\t\tif (msg.type == SimulatorMessageType.AnaChatMessage) {\n\t\t\tlet cfMsg = (msg as AnaChatSimulatorMessage);\n\t\t\tif (this.handleMessageReceived)\n\t\t\t\tthis.handleMessageReceived(new models.ANAChatMessage(cfMsg.data));\n\t\t} else if (msg.type == SimulatorMessageType.AnaChatReset) {\n\t\t\tif (this.handleResetSignal)\n\t\t\t\tthis.handleResetSignal();\n\t\t}\n\t}\n\n\tprivate logDebug(msg: any) {\n\t\tif (this.debug)\n\t\t\tconsole.log(msg);\n\t}\n\n\tsendMessage(message: models.ANAChatMessage, threadMsgRef: vm.ChatMessageVM) {\n\t\t// window.parent.postMessage({\n\t\t// \tdata: message,\n\t\t// \ttype: SimulatorMessageType.AnaChatMessage\n\t\t// }, \"*\");\n\t\tthis.simulator.onMessage({\n\t\t\tdata: message,\n\t\t\ttype: SimulatorMessageType.AnaChatMessage\n\t\t})\n\t\tif (threadMsgRef)\n\t\t\tthreadMsgRef.status = vm.MessageStatus.ReceivedAtServer;\n\t}\n\thandleMessageReceived: (message: models.ANAChatMessage) => any;\n\thandleResetSignal: () => void;\n}\n\nexport enum SimulatorMessageType {\n\tAnaChatMessage = 'AnaChatMessage', AnaChatReset = 'AnaChatReset'\n}\nexport interface SimulatorMessage {\n\ttype: SimulatorMessageType;\n\tdata: any;\n}\n\nexport interface AnaChatSimulatorMessage extends SimulatorMessage {\n\tdata: models.IANAChatMessage;\n}\n\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/simulator.service.ts","import { Injectable } from '@angular/core';\n\nimport * as SockJS from 'sockjs-client';\nimport * as StompJS from 'stompjs';\n\nimport { ChatMessageVM, MessageStatus } from '../models/ana-chat-vm.models';\nimport { ANAChatMessage, ANAMeta, EventType } from '../models/ana-chat.models';\nimport { UtilitiesService, Config } from '../services/utilities.service';\n\n@Injectable()\nexport class StompService {\n\tpublic config: StompConfig;\n\tprivate client: StompJS.Client;\n\tprivate sockInstance: any;\n\tprivate timer: NodeJS.Timer;\n\tprivate stompHeaders: any = {};\n\tprivate consecutiveErrorsCount: number = 0;\n\n\tconnectionStatus: StompConnectionStatus;\n\n\tconstructor() { }\n\n\tpublic connect(config?: StompConfig) {\n\t\tthis.clearTimer();\n\n\t\tthis.configure(config);\n\n\t\tif (!this.client)\n\t\t\tthrow Error('Client not configured!');\n\n\t\tthis.debug('Connecting...');\n\t\tthis.connectionStatus = StompConnectionStatus.Connecting;\n\t\tlet headers: any = { user_id: this.config.customerId };\n\t\tthis.client.connect(headers, this.onConnect, this.onError);\n\t}\n\tprivate clearTimer() {\n\t\tif (this.timer) {\n\t\t\tclearTimeout(this.timer);\n\t\t\tthis.timer = null;\n\t\t}\n\t}\n\tprivate disconnect() {\n\t\tthis.clearTimer();\n\t\tif (this.client && this.client.connected) {\n\t\t\tthis.client.disconnect(() => this.debug(\"WebSocket Disconnected\"));\n\t\t}\n\t}\n\n\tprivate debug = (...args: any[]) => {\n\t\tif (console && console.log && console.log.apply && this.config && this.config.debug)\n\t\t\tconsole.log.apply(console, args);\n\t}\n\n\tconfigure(config?: StompConfig) {\n\t\tif (config === null && this.config === null)\n\t\t\tthrow Error('No configuration provided!');\n\n\t\tif (config != null)\n\t\t\tthis.config = config;\n\n\t\tthis.sockInstance = new SockJS(this.config.endpoint);\n\t\tthis.client = StompJS.over(this.sockInstance);\n\t\tthis.connectionStatus = StompConnectionStatus.Disconnected;\n\t\tthis.client.debug = (this.config.debug || this.config.debug == null ? this.debug : null);\n\t}\n\t//Should be an arrow function to follow class context\n\tprivate onConnect = (frame: StompJS.Frame) => {\n\t\tthis.clearTimer();\n\t\tthis.consecutiveErrorsCount = 0;\n\t\tif (this.connectionStatus == StompConnectionStatus.Connected)\n\t\t\treturn;\n\n\t\ttry {\n\t\t\tthis.subscribe();\n\t\t\tthis.connectionStatus = StompConnectionStatus.Connected;\n\n\t\t\tif (this.handleConnect)\n\t\t\t\tthis.handleConnect();\n\t\t} catch (e) {\n\t\t\tthis.debug(e);\n\t\t\tthis.connectionStatus = StompConnectionStatus.Disconnected;\n\t\t}\n\t}\n\n\tprivate subscribe = () => {\n\t\tthis.stompHeaders['user_id'] = this.config.customerId;\n\t\tlet custId = this.stompHeaders['user_id'];\n\n\t\tthis.stompHeaders['id'] = UtilitiesService.uuidv4();\n\t\tthis.client.subscribe('/topic/presence', (message) => {\n\t\t\tthis.client.send(\"/app/presence\", this.stompHeaders, JSON.stringify({ user_id: custId }));\n\t\t}, this.stompHeaders);\n\n\t\t//Header: Id should be different for different subscription\n\t\tthis.stompHeaders['id'] = UtilitiesService.uuidv4();\n\n\t\tlet channel = (this.config.flowId ? '/topic/chat/customer/' + custId + \"/business/\" + this.config.businessId + \"/flow/\" + this.config.flowId : '/topic/chat/customer/' + custId + \"/business/\" + this.config.businessId);\n\t\tthis.client.subscribe(channel, (message) => {\n\t\t\tthis.onMessage(JSON.parse(message.body));\n\t\t}, this.stompHeaders);\n\t\tthis.stompHeaders['id'] = UtilitiesService.uuidv4();\n\t\tthis.client.subscribe('/queue/events/user/' + custId, (message) => {\n\t\t\tlet msg = new ANAChatMessage(JSON.parse(message.body));\n\t\t\tif (msg.events) {\n\t\t\t\tfor (var i = 0; i < msg.events.length; i++) {\n\t\t\t\t\tlet event = msg.events[i];\n\t\t\t\t\tif (event.type == EventType.ACK) {\n\t\t\t\t\t\tthis.onAck(message.headers['tid']);\n\t\t\t\t\t} else if (event.type == EventType.TYPING) {\n\t\t\t\t\t\tthis.onTyping();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, this.stompHeaders);\n\t}\n\n\tprivate onError = (error: string | StompJS.Message) => {\n\t\tthis.connectionStatus = StompConnectionStatus.Disconnected;\n\t\tif (this.consecutiveErrorsCount <= Config.consecutiveErrorsThreshold) {\n\t\t\tthis.consecutiveErrorsCount++;\n\t\t\tconsole.log(this.consecutiveErrorsCount);\n\t\t\tif (this.consecutiveErrorsCount == Config.consecutiveErrorsThreshold)\n\t\t\t\tif (this.handleConsecutiveErrorsState)\n\t\t\t\t\tthis.handleConsecutiveErrorsState();\n\t\t}\n\t\tif (typeof error === 'object')\n\t\t\terror = error.body;\n\n\t\tif (this.config && this.config.debug)\n\t\t\tthis.debug('Socket Error: ' + JSON.stringify(error));\n\n\t\tthis.debug(`Error: ${error}`);\n\t\tif (error.indexOf('Lost connection') !== -1)\n\t\t\tthis.delayReconnect(5000);\n\t}\n\n\tprivate delayReconnect(t: number) {\n\t\tthis.debug(`Reconnecting in ${t / 1000} second(s)...`);\n\t\tthis.timer = setTimeout(() => {\n\t\t\tthis.connect();\n\t\t}, t);\n\t}\n\n\tprivate onAck = (msgAckId: string, delivered?: boolean) => {\n\t\tthis.debug(`${delivered ? \"DeliveredAck:\" : \"SentAck:\"}` + msgAckId);\n\t\tif (this.handleAck)\n\t\t\tthis.handleAck(msgAckId, delivered);\n\t};\n\n\tprivate onTyping = () => {\n\t\tthis.debug(\"Typing... \");\n\t\tif (this.handleTyping)\n\t\t\tthis.handleTyping();\n\t};\n\n\tprivate msgsIds: string[] = [];\n\tprivate onMessage = (messageBody: any) => {\n\t\tlet anaMsg = new ANAChatMessage(messageBody);\n\t\tif (!anaMsg.data || Object.keys(anaMsg.data).length <= 0) {\n\t\t\tthis.sendMessageReceivedAck(anaMsg.meta);\n\t\t}\n\t\tif (anaMsg.events && anaMsg.events.length > 0) {\n\t\t\tfor (var i = 0; i < anaMsg.events.length; i++) {\n\t\t\t\tlet event = anaMsg.events[i];\n\t\t\t\tif (event.type == EventType.ACK) {\n\t\t\t\t\tthis.onAck(anaMsg.meta.id, true);\n\t\t\t\t} else if (event.type == EventType.TYPING) {\n\t\t\t\t\tthis.onTyping();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (this.handleMessageReceived) {\n\t\t\tif (this.msgsIds.indexOf(anaMsg.meta.id) == -1) { //handle message only if it is not already handled\n\t\t\t\tthis.msgsIds.push(anaMsg.meta.id);\n\t\t\t\tthis.handleMessageReceived(anaMsg);\n\t\t\t}\n\t\t}\n\t}\n\n\tsendMessage(message: ANAChatMessage, threadMsgRef: ChatMessageVM) {\n\t\tlet _sendMessage = () => {\n\t\t\tlet msg = message.extract();\n\n\t\t\tthis.debug(\"Sent Socket Message: \");\n\t\t\tthis.debug(msg);\n\n\t\t\tlet headers = this.stompHeaders;\n\t\t\theaders['tid'] = threadMsgRef.messageAckId;\n\t\t\tthis.client.send(`/app/message`, headers, JSON.stringify(msg));\n\t\t\tthreadMsgRef.status = MessageStatus.SentToServer;\n\t\t\tthreadMsgRef.startTimeoutTimer();\n\t\t};\n\t\tthreadMsgRef.retrySending = _sendMessage; //Saving the context to be used for retrying in case of failure\n\t\t_sendMessage();\n\t}\n\n\ttypingBusy = false;\n\tsendTypingMessage(meta: ANAMeta) {\n\t\tif (this.typingBusy) {\n\t\t\treturn;\n\t\t}\n\t\tthis.typingBusy = true;\n\t\tsetTimeout(() => this.typingBusy = false, 1000);\n\t\tlet msg = new ANAChatMessage({\n\t\t\tmeta: UtilitiesService.getReplyMeta(meta),\n\t\t\tevents: [{\n\t\t\t\ttype: EventType.TYPING\n\t\t\t}]\n\t\t});\n\t\tlet headers = this.stompHeaders;\n\t\tthis.client.send(`/app/message`, headers, JSON.stringify(msg.extract()));\n\t}\n\n\tsendMessageReceivedAck(meta: ANAMeta) {\n\t\tlet msg = new ANAChatMessage({\n\t\t\tmeta: UtilitiesService.getReplyMeta(meta, true),\n\t\t\tevents: [{\n\t\t\t\ttype: EventType.ACK\n\t\t\t}]\n\t\t});\n\t\tlet headers = this.stompHeaders;\n\t\tthis.client.send(`/app/message`, headers, JSON.stringify(msg.extract()));\n\t}\n\n\thandleConnect: () => void;\n\thandleMessageReceived: (message: ANAChatMessage) => any;\n\thandleAck: (messageAckId: string, delivered?: boolean) => any;\n\thandleTyping: () => void;\n\thandleConsecutiveErrorsState: () => void;\n}\n\nexport interface StompConfig {\n\tendpoint: string;\n\tcustomerId: string;\n\tbusinessId: string;\n\tflowId: string;\n\tcurrentSessionOnly: boolean;\n\tdebug: boolean;\n}\n\nexport enum StompConnectionStatus {\n\tNone,\n\tConnected,\n\tDisconnected,\n\tConnecting\n}\n\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/stomp.service.ts","import { Injectable } from '@angular/core';\n\nimport { ANATime, ANADate, ANAMeta, SenderType, GeoLoc, MediaType, AddressInput } from '../models/ana-chat.models';\nimport { GoogleMapsConfig } from '../models/google-maps-config.model';\nimport { AppSettings, BrandingConfig, AppConfig, ThirdPartyConfig } from '../models/ana-config.models';\n@Injectable()\nexport class UtilitiesService {\n\tstatic googleMapsConfigRef: GoogleMapsConfig = { apiKey: '' };\n\tstatic settings: AppSettings;\n\n\tconstructor() { }\n\n\tstatic uuidv4() {\n\t\treturn (<any>[1e7] + -1e3 + -4e3 + -8e3 + -1e11).toString().replace(/[018]/g,\n\t\t\tc => (<any>c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> <any>c / 4).toString(16)\n\t\t)\n\t}\n\n\tstatic anaDateDisplay(anaDate: ANADate) {\n\t\treturn `${parseInt(anaDate.mday)}-${parseInt(anaDate.month)}-${parseInt(anaDate.year)}`;\n\t}\n\n\tstatic anaDateToDate(anaDate: ANADate) {\n\t\treturn new Date(parseInt(anaDate.year), parseInt(anaDate.month) - 1, parseInt(anaDate.mday));\n\t}\n\tstatic anaTimeToDate(anaTime: ANATime) {\n\t\tlet d = new Date();\n\t\td.setHours(parseInt(anaTime.hour), parseInt(anaTime.minute), parseInt(anaTime.second));\n\t\treturn d;\n\t}\n\n\tstatic anaLocationDisplay(anaLoc: GeoLoc) {\n        return `${anaLoc.lat},${anaLoc.lng}`;\n    }\n\n\n\tstatic anaTimeDisplay(anaTime: ANATime) {\n\t\tlet hr = parseInt(anaTime.hour);\n\t\tlet min = parseInt(anaTime.minute);\n\n\t\tvar hours: any = hr > 12 ? hr - 12 : hr;\n\t\tvar am_pm = hr >= 12 ? \"PM\" : \"AM\";\n\t\thours = hours < 10 ? \"0\" + hours : hours;\n\t\tvar minutes = min < 10 ? \"0\" + min : min;\n\n\t\treturn hours + \":\" + minutes + \" \" + am_pm;\n\t}\n\n\tstatic getReplyMeta(srcMeta: ANAMeta, copyId?: boolean) {\n\t\tlet replyMeta: ANAMeta = {\n\t\t\tid: copyId ? srcMeta.id : this.uuidv4(),\n\t\t\trecipient: srcMeta.sender,\n\t\t\tresponseTo: srcMeta.id,\n\t\t\tsender: srcMeta.recipient,\n\t\t\tsenderType: SenderType.USER,\n\t\t\tsessionId: srcMeta.sessionId,\n\t\t\tflowId: srcMeta.flowId,\n\t\t\tpreviousFlowId: srcMeta.previousFlowId,\n\t\t\tcurrentFlowId: srcMeta.currentFlowId,\n\t\t\ttimestamp: new Date().getTime()\n\t\t};\n\t\treturn replyMeta;\n\t}\n\n\tstatic googleMapsStaticLink(latLng: GeoLoc) {\n\t\treturn `https://maps.googleapis.com/maps/api/staticmap?center=${latLng.lat},${latLng.lng}&zoom=13&size=300x150&maptype=roadmap&markers=color:red|label:A|${latLng.lat},${latLng.lng}&key=${UtilitiesService.googleMapsConfigRef.apiKey}`;\n\t}\n\n\tstatic getAnaMediaTypeFromMIMEType(mimeType: string) {\n\t\tlet assetType: MediaType;\n\t\tif (mimeType.startsWith('image'))\n\t\t\tassetType = MediaType.IMAGE;\n\t\telse if (mimeType.startsWith('video'))\n\t\t\tassetType = MediaType.VIDEO;\n\t\telse if (mimeType.startsWith('audio'))\n\t\t\tassetType = MediaType.AUDIO;\n\t\telse\n\t\t\tassetType = MediaType.FILE;\n\t\treturn assetType;\n\t}\n\n\tstatic anaAddressDisplay(anaAddress: AddressInput) {\n\t\treturn [anaAddress.line1, anaAddress.area, anaAddress.city, anaAddress.state, anaAddress.country, anaAddress.pin].filter(x => x).join(\", \");\n\t}\n\n\tstatic pad(number: number, width: number, z = '0') {\n\t\tlet n = number + '';\n\t\treturn n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n\t}\n}\n\nexport class Config {\n\tstatic emailRegex: RegExp = /^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/;\n\tstatic phoneRegex: RegExp = /^\\+?\\d{6,15}$/;\n\tstatic numberRegex: RegExp = /^[0-9]*\\.?[0-9]+$/;\n\n\tstatic consecutiveErrorsThreshold = 5;\n\tstatic consecutiveErrorsMessageText = \"Uh oh, seems like you've lost your internet connection\";\n\tstatic consecutiveErrorsMessageAckId = \"CONSECUTIVE_ERRORS_MESSAGE\";\n\n\tstatic simulatorBusinessId = 'ana-studio';\n\tstatic simulatorCustomerId = 'ana-simulator';\n}\n\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/app/services/utilities.service.ts","export const environment = {\n  production: true\n};\n\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/environments/environment.prod.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment.prod';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// D:/NOWFLOATS/ana-web-chat-master-f726fd66c7ed228fb0b4a1e0e71ea760bd266a85/src/main.ts"],"sourceRoot":"webpack:///"}